(this.webpackJsonpmultiview=this.webpackJsonpmultiview||[]).push([[0],{12:function(e,t,n){"use strict";var a=n(86);n.o(a,"ControlsMode")&&n.d(t,"ControlsMode",(function(){return a.ControlsMode})),n.o(a,"Layout")&&n.d(t,"Layout",(function(){return a.Layout})),n.o(a,"MASTER_PLAYER_PLAYED_TIME_UPDATED")&&n.d(t,"MASTER_PLAYER_PLAYED_TIME_UPDATED",(function(){return a.MASTER_PLAYER_PLAYED_TIME_UPDATED})),n.o(a,"PLAYER_LOADED_TIME_UPDATED")&&n.d(t,"PLAYER_LOADED_TIME_UPDATED",(function(){return a.PLAYER_LOADED_TIME_UPDATED})),n.o(a,"PLAYER_OFFSET_CHANGED")&&n.d(t,"PLAYER_OFFSET_CHANGED",(function(){return a.PLAYER_OFFSET_CHANGED})),n.o(a,"PLAYER_PLAYED_TIME_UPDATED")&&n.d(t,"PLAYER_PLAYED_TIME_UPDATED",(function(){return a.PLAYER_PLAYED_TIME_UPDATED})),n.o(a,"PLAYER_PROGRESS_UPDATED")&&n.d(t,"PLAYER_PROGRESS_UPDATED",(function(){return a.PLAYER_PROGRESS_UPDATED})),n.o(a,"PLAYER_READY")&&n.d(t,"PLAYER_READY",(function(){return a.PLAYER_READY})),n.o(a,"PLAYER_STARTED_BUFFERING")&&n.d(t,"PLAYER_STARTED_BUFFERING",(function(){return a.PLAYER_STARTED_BUFFERING})),n.o(a,"PLAYER_STARTED_PLAYING")&&n.d(t,"PLAYER_STARTED_PLAYING",(function(){return a.PLAYER_STARTED_PLAYING})),n.o(a,"PLAYER_STOPPED_BUFFERING")&&n.d(t,"PLAYER_STOPPED_BUFFERING",(function(){return a.PLAYER_STOPPED_BUFFERING})),n.o(a,"PLAYER_STOPPED_PLAYING")&&n.d(t,"PLAYER_STOPPED_PLAYING",(function(){return a.PLAYER_STOPPED_PLAYING})),n.o(a,"SETTINGS_LAYOUT_CHANGED")&&n.d(t,"SETTINGS_LAYOUT_CHANGED",(function(){return a.SETTINGS_LAYOUT_CHANGED})),n.o(a,"VIDEOS_ADDED")&&n.d(t,"VIDEOS_ADDED",(function(){return a.VIDEOS_ADDED})),n.o(a,"VIDEO_DELETED")&&n.d(t,"VIDEO_DELETED",(function(){return a.VIDEO_DELETED}));var r=n(18);n.d(t,"MASTER_PLAYER_PLAYED_TIME_UPDATED",(function(){return r.h}));var i=n(41);n.d(t,"PLAYER_OFFSET_CHANGED",(function(){return i.b}));var c=n(16);n.d(t,"PLAYER_LOADED_TIME_UPDATED",(function(){return c.d})),n.d(t,"PLAYER_PLAYED_TIME_UPDATED",(function(){return c.h})),n.d(t,"PLAYER_PROGRESS_UPDATED",(function(){return c.i})),n.d(t,"PLAYER_READY",(function(){return c.j})),n.d(t,"PLAYER_STARTED_BUFFERING",(function(){return c.k})),n.d(t,"PLAYER_STARTED_PLAYING",(function(){return c.l})),n.d(t,"PLAYER_STOPPED_BUFFERING",(function(){return c.m})),n.d(t,"PLAYER_STOPPED_PLAYING",(function(){return c.n}));var o=n(21);n.d(t,"ControlsMode",(function(){return o.a})),n.d(t,"Layout",(function(){return o.b})),n.d(t,"SETTINGS_LAYOUT_CHANGED",(function(){return o.g}));var d=n(43);n.d(t,"VIDEOS_ADDED",(function(){return d.a})),n.d(t,"VIDEO_DELETED",(function(){return d.b}))},149:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(19),c=n.n(i),o=n(25),d=n(91),l=n(42),u=n(92),s=n(13),b=n(12),j=n(8),O=n(9),f=function(e){return e.masterPlayerInfo},p=Object(j.a)(f,Object(O.getOr)(!1,"isPlaying")),h=Object(j.a)(f,Object(O.getOr)(!1,"isBuffering")),y=Object(j.a)(f,Object(O.getOr)(0,"durationSeconds")),g=Object(j.a)(f,(function(e){return{playedSeconds:e.playedSeconds,playedFraction:e.playedFraction}})),E=Object(j.a)(g,Object(O.getOr)(0,"playedSeconds")),x=Object(j.a)(g,Object(O.getOr)(0,"playedFraction")),v=Object(j.a)(f,(function(e){return{loadedSeconds:e.loadedSeconds,loadedFraction:e.loadedFraction}})),P=(Object(j.a)(v,Object(O.getOr)(0,"loadedSeconds")),Object(j.a)(v,Object(O.getOr)(0,"loadedFraction"))),m=Object(j.a)(f,Object(O.getOr)(1,"volume")),S=Object(j.a)(f,Object(O.getOr)(!1,"isMuted")),A=Object(j.a)(f,Object(O.getOr)(null,"pendingSeek")),_=n(26),D=n.n(_),R=function(e){return e.offsets},T=Object(j.a)(R,Object(O.get)("referencePlayerId")),L=Object(j.a)(R,Object(O.get)("offsets")),w=D()((function(e){return Object(j.a)(L,Object(O.getOr)(0,e))})),M=n(24),k=n(53),I=n(20),Y=n(3),F=n(16),C={},U={isReady:!1,isPlaying:!1,isBuffering:!1,hasEnded:!1,durationSeconds:0,playedSeconds:0,playedFraction:0,loadedSeconds:0,loadedFraction:0,volume:1,isMuted:!1,pendingSeeks:[]},G=function(e){return e.playersInfo},N=D()((function(e){return Object(j.a)(G,Object(O.getOr)(U,e))})),H=D()((function(e){return Object(j.a)(N(e),Object(O.getOr)(!1,"isPlaying"))})),V=D()((function(e){return Object(j.a)(N(e),Object(O.getOr)(!1,"isBuffering"))})),B=D()((function(e){return Object(j.a)(N(e),Object(O.getOr)(0,"durationSeconds"))})),z=D()((function(e){return Object(j.a)(N(e),(function(e){return{playedSeconds:e.playedSeconds,playedFraction:e.playedFraction}}))})),W=(D()((function(e){return Object(j.a)(z(e),Object(O.getOr)(0,"playedSeconds"))})),D()((function(e){return Object(j.a)(z(e),Object(O.getOr)(0,"playedFraction"))}))),K=D()((function(e){return Object(j.a)(N(e),(function(e){return{loadedSeconds:e.loadedSeconds,loadedFraction:e.loadedFraction}}))})),X=(D()((function(e){return Object(j.a)(K(e),Object(O.getOr)(0,"loadedSeconds"))})),D()((function(e){return Object(j.a)(K(e),Object(O.getOr)(0,"loadedFraction"))}))),q=(D()((function(e){return Object(j.a)(N(e),Object(O.getOr)(!1,"hasEnded"))})),D()((function(e){return Object(j.a)(N(e),Object(O.getOr)(1,"volume"))}))),J=D()((function(e){return Object(j.a)(N(e),Object(O.getOr)(!1,"isMuted"))})),$=D()((function(e){return Object(j.a)(N(e),Object(O.getOr)([],"pendingSeeks"))})),Z=Object(j.a)(G,Object(O.compose)(Object(O.get)("id"),Object(O.reduce)((function(e,t){var n=Object(s.a)(t,2),a=n[0],r=n[1];return r.durationSeconds>e.duration?{duration:r.durationSeconds,id:a}:e}),{duration:0,id:null}),O.entries)),Q=(Object(j.a)(G,Z,(function(e,t){return t?Object(O.get)(t,e).durationSeconds:0})),D()((function(e){return Object(j.a)(B(e),w(e),E,(function(e,t,n){return-t<=n&&n<=e-t}))}))),ee=function(e){return Object.entries(G(e)).every((function(t){var n=Object(s.a)(t,2),a=n[0],r=n[1];return!Q(a)(e)||r.isPlaying&&Q(a)(e)}))},te=n(21),ne=function(e){return e.settings},ae=Object(j.a)(ne,Object(O.get)("isFullscreen")),re=Object(j.a)(ne,Object(O.get)("controlsMode")),ie=Object(j.a)(ne,Object(O.get)("layout")),ce=Object(j.a)(ne,Object(O.get)("mainPlayerIds")),oe=Object(j.a)(ne,Object(O.get)("secondaryPlayerIds")),de=D()((function(e){return Object(j.a)(ce,Object(O.contains)(e))})),le=(D()((function(e){return Object(j.a)(oe,Object(O.contains)(e))})),D()((function(e){return Object(j.a)(ce,oe,ie,(function(t,n,a){var r=t.indexOf(e),i=n.indexOf(e);return 0!==r&&(0!==i||a!==te.b.Overlay)}))}))),ue=D()((function(e){return Object(j.a)(ce,oe,ie,(function(t,n,a){var r=t.indexOf(e);return n.indexOf(e)!==n.length-1&&(r!==t.length-1||a!==te.b.Overlay)}))})),se=Object(j.a)(ne,Object(O.get)("focusedPlayerId")),be=Object(j.a)(se,G,f,(function(e,t,n){return e?t[e]:n})),je=Object(j.a)(be,Object(O.getOr)(!1,"isPlaying")),Oe=Object(j.a)(be,Object(O.getOr)(0,"durationSeconds")),fe=Object(j.a)(be,Object(O.getOr)(0,"playedSeconds")),pe=Object(j.a)(be,Object(O.getOr)(1,"volume")),he=Object(j.a)(be,Object(O.getOr)(!1,"isMuted")),ye=function(e){return{type:F.l,payload:{id:e}}},ge=function(e){return{type:F.n,payload:{id:e}}},Ee=function(e){return{type:F.k,payload:{id:e}}},xe=function(e){return{type:F.p,payload:{id:e}}},ve=function(e,t){var n=t.volume;return{type:F.r,payload:{id:e,volume:n}}},Pe=function(e){return{type:F.e,payload:{id:e}}},me=function(e){return{type:F.o,payload:{id:e}}},Se=function(e,t){var n=t.seekToSeconds;return{type:F.g,payload:{id:e,seekToSeconds:n}}},Ae=n(18),_e=function(e){return{type:Ae.a,payload:{durationSeconds:e}}},De=function(e){return{type:Ae.p,payload:{volume:e}}},Re=function(){return{type:Ae.d}},Te=function(){return{type:Ae.o}},Le=function(){return function(e,t){var n=t(),a=f(n),r=a.isReady,i=a.isBuffering;r&&!i&&Object.keys(G(n)).forEach((function(t){Q(t)(n)&&e(ye(t))}))}},we=function(){return function(e,t){var n=t();Object.keys(n.playersInfo).forEach((function(t){return e(ge(t))}))}},Me=function(e){return function(t,n){var a,r=n();t((a=e,{type:Ae.g,payload:{seekToSeconds:a}})),Object.entries(G(r)).forEach((function(n){var a,i=Object(s.a)(n,2),c=i[0],o=i[1],d=o.playedSeconds,l=o.durationSeconds,u=w(c)(r);if(-u>e)d>0&&t(Se(c,{seekToSeconds:0})),t(ge(c));else if(e>=l-u)d<l&&t(Se(c,{seekToSeconds:l})),t(ge(c)),t(xe(c));else{var b=e+u;t((a=c,{type:F.q,payload:{id:a}})),t(Se(c,{seekToSeconds:b})),f(r).isPlaying&&t(ye(c))}}))}},ke=n(41),Ie=function(e){return{type:ke.a,payload:{referenceId:e}}},Ye=function(e,t){var n=t.offset;return{type:ke.b,payload:{id:e,offset:n}}},Fe=function(){return function(e,t){var n=t(),a=Object.entries(L(n)).reduce((function(e,t){var n=Object(s.a)(t,2),a=n[0],r=n[1];return r>e.maxOffset?{maxOffset:r,maxOffsetPlayerId:a}:e}),{maxOffset:-1/0,maxOffsetPlayerId:""}),r=a.maxOffset,i=a.maxOffsetPlayerId;""!==i&&Math.abs(r)>1.5&&(e(Ie(i)),e(Ye(i,{offset:0})),Object.entries(L(n)).forEach((function(t){var n=Object(s.a)(t,2),a=n[0],c=n[1];a!==i&&e(Ye(a,{offset:c-r}))})))}},Ce=function(e){return{type:te.c,payload:{controlsMode:e}}},Ue=function(e){return{type:te.h,payload:e}},Ge=function(){return function(e){e({type:te.e}),e(Ce(te.a.Grouped))}},Ne=function(){return function(e){e({type:te.f}),e(Ce(te.a.Individual))}},He=function(e){return function(t,n){var a=n(),r=ce(a),i=oe(a);t(Ue({mainPlayerIds:[].concat(Object(M.a)(r),[e]),secondaryPlayerIds:i.filter((function(t){return t!==e}))}))}},Ve=function(e){return function(t,n){var a=n(),r=ce(a),i=oe(a);t(Ue({mainPlayerIds:r.filter((function(t){return t!==e})),secondaryPlayerIds:[].concat(Object(M.a)(i),[e])}))}},Be=n(43),ze=function(e,t,n){return Object.entries(G(t)).every((function(t){var a=Object(s.a)(t,2),r=a[0],i=a[1];return r===n||e(i)}))},We={isReady:!1,isPlaying:!1,isBuffering:!1,hasEnded:!1,durationSeconds:0,playedSeconds:0,playedFraction:0,loadedSeconds:0,loadedFraction:0,volume:1,isMuted:!1,pendingSeek:null},Ke={referencePlayerId:null,offsets:{}},Xe={isFullscreen:!1,controlsMode:te.a.Individual,layout:te.b.Overlay,focusedPlayerId:null,mainPlayerIds:[],secondaryPlayerIds:[]},qe={},Je=Object(l.combineReducers)({masterPlayerInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:We,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ae.j:return Object(Y.a)(Object(Y.a)({},e),{},{isReady:!0});case Ae.e:return Object(Y.a)(Object(Y.a)({},e),{},{isReady:!1});case Ae.l:return Object(Y.a)(Object(Y.a)({},e),{},{isPlaying:!0});case Ae.n:return Object(Y.a)(Object(Y.a)({},e),{},{isPlaying:!1});case Ae.k:return Object(Y.a)(Object(Y.a)({},e),{},{isBuffering:!0});case Ae.m:return Object(Y.a)(Object(Y.a)({},e),{},{isBuffering:!1});case Ae.b:return Object(Y.a)(Object(Y.a)({},e),{},{hasEnded:!0});case Ae.p:return Object(Y.a)(Object(Y.a)({},e),{},{isMuted:!1},t.payload);case Ae.d:return Object(Y.a)(Object(Y.a)({},e),{},{isMuted:!0});case Ae.o:return Object(Y.a)(Object(Y.a)({},e),{},{isMuted:!1});case Ae.g:return Object(Y.a)(Object(Y.a)({},e),{},{pendingSeek:t.payload.seekToSeconds});case Ae.f:return Object(Y.a)(Object(Y.a)({},e),{},{pendingSeek:null});case Ae.a:case Ae.h:case Ae.c:case Ae.i:return Object(Y.a)(Object(Y.a)({},e),t.payload);default:return e}},offsets:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ke,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ke.a:return Object(Y.a)(Object(Y.a)({},e),{},{referencePlayerId:t.payload.referenceId});case ke.b:var n=t.payload,a=n.id,r=n.offset;return Object(Y.a)(Object(Y.a)({},e),{},{offsets:Object(Y.a)(Object(Y.a)({},e.offsets),{},Object(I.a)({},a,r))});case ke.c:return Object(Y.a)(Object(Y.a)({},e),{},{offsets:Object(O.omit)(t.payload.id,e.offsets)});default:return e}},playersInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case F.c:return Object(Y.a)(Object(Y.a)({},e),{},Object(I.a)({},t.payload.id,Object(Y.a)({},U)));case F.j:return Object(Y.a)(Object(Y.a)({},e),{},Object(I.a)({},t.payload.id,Object(Y.a)(Object(Y.a)({},e[t.payload.id]),{},{isReady:!0})));case F.l:return Object(Y.a)(Object(Y.a)({},e),{},Object(I.a)({},t.payload.id,Object(Y.a)(Object(Y.a)({},e[t.payload.id]),{},{isPlaying:!0,isBuffering:!1,hasEnded:!1})));case F.n:return Object(Y.a)(Object(Y.a)({},e),{},Object(I.a)({},t.payload.id,Object(Y.a)(Object(Y.a)({},e[t.payload.id]),{},{isPlaying:!1})));case F.k:return Object(Y.a)(Object(Y.a)({},e),{},Object(I.a)({},t.payload.id,Object(Y.a)(Object(Y.a)({},e[t.payload.id]),{},{isBuffering:!0})));case F.m:return Object(Y.a)(Object(Y.a)({},e),{},Object(I.a)({},t.payload.id,Object(Y.a)(Object(Y.a)({},e[t.payload.id]),{},{isBuffering:!1})));case F.p:return Object(Y.a)(Object(Y.a)({},e),{},Object(I.a)({},t.payload.id,Object(Y.a)(Object(Y.a)({},e[t.payload.id]),{},{hasEnded:!0,isBuffering:!1})));case F.q:return Object(Y.a)(Object(Y.a)({},e),{},Object(I.a)({},t.payload.id,Object(Y.a)(Object(Y.a)({},e[t.payload.id]),{},{hasEnded:!1})));case F.b:var n=t.payload.durationSeconds;return Object(Y.a)(Object(Y.a)({},e),{},Object(I.a)({},t.payload.id,Object(Y.a)(Object(Y.a)({},e[t.payload.id]),{},{durationSeconds:n})));case F.h:var a=t.payload,r=a.playedSeconds,i=a.playedFraction;return Object(Y.a)(Object(Y.a)({},e),{},Object(I.a)({},t.payload.id,Object(Y.a)(Object(Y.a)({},e[t.payload.id]),{},{playedSeconds:r,playedFraction:i})));case F.d:var c=t.payload,o=c.loadedSeconds,d=c.loadedFraction;return Object(Y.a)(Object(Y.a)({},e),{},Object(I.a)({},t.payload.id,Object(Y.a)(Object(Y.a)({},e[t.payload.id]),{},{loadedSeconds:o,loadedFraction:d})));case F.i:var l=t.payload,u=(l.id,Object(k.a)(l,["id"]));return Object(Y.a)(Object(Y.a)({},e),{},Object(I.a)({},t.payload.id,Object(Y.a)(Object(Y.a)({},e[t.payload.id]),u)));case F.r:var s=t.payload.volume;return Object(Y.a)(Object(Y.a)({},e),{},Object(I.a)({},t.payload.id,Object(Y.a)(Object(Y.a)({},e[t.payload.id]),{},{volume:s,isMuted:!1})));case F.e:return Object(Y.a)(Object(Y.a)({},e),{},Object(I.a)({},t.payload.id,Object(Y.a)(Object(Y.a)({},e[t.payload.id]),{},{isMuted:!0})));case F.o:return Object(Y.a)(Object(Y.a)({},e),{},Object(I.a)({},t.payload.id,Object(Y.a)(Object(Y.a)({},e[t.payload.id]),{},{isMuted:!1})));case F.g:var b=t.payload.seekToSeconds;return Object(Y.a)(Object(Y.a)({},e),{},Object(I.a)({},t.payload.id,Object(Y.a)(Object(Y.a)({},e[t.payload.id]),{},{pendingSeeks:[].concat(Object(M.a)(e[t.payload.id].pendingSeeks),[b])})));case F.f:return Object(Y.a)(Object(Y.a)({},e),{},Object(I.a)({},t.payload.id,Object(Y.a)(Object(Y.a)({},e[t.payload.id]),{},{pendingSeeks:Object(M.a)(e[t.payload.id].pendingSeeks.slice(1))})));case F.a:return Object(O.omit)(t.payload.id,e);default:return e}},settings:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case te.e:return Object(Y.a)(Object(Y.a)({},e),{},{isFullscreen:!0});case te.f:return Object(Y.a)(Object(Y.a)({},e),{},{isFullscreen:!1});case te.c:case te.g:case te.d:case te.i:case te.j:case te.h:return Object(Y.a)(Object(Y.a)({},e),t.payload);default:return e}},videos:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Be.a:return Object(Y.a)(Object(Y.a)({},e),t.payload);case Be.b:return Object(O.omit)(t.payload.id,e);default:return e}}}),$e=Object(l.createStore)(Je,Object(u.composeWithDevTools)(Object(l.applyMiddleware)(d.a,(function(e){return function(t){return function(n){var a=e.dispatch,r=e.getState,i=r();t(n);var c=r(),o=T(c);switch(n.type){case b.VIDEO_DELETED:var d=n.payload.id;a(function(e){return{type:ke.c,payload:{id:e}}}(d)),1===Object.keys(L(i)).length?a(Ie(null)):a(Fe());break;case b.PLAYER_PLAYED_TIME_UPDATED:case b.PLAYER_PROGRESS_UPDATED:var l=n.payload.id;if(null===o){a(Ie(l)),a(Ye(l,{offset:0}));break}if(ee(c)||null!==A(i))break;ee(i)&&!ee(c)&&Object.keys(G(c)).forEach((function(e){Q(e)(c)&&a(ye(e))})),Object.entries(G(c)).forEach((function(e){var t=Object(s.a)(e,2),n=t[0],r=t[1];Q(n)(i)&&a(Ye(n,{offset:r.playedSeconds-E(c)}))})),a(Fe())}}}}),(function(e){return function(t){return function(n){var a=e.dispatch,r=e.getState;t(n);var i,c=r();switch(n.type){case b.PLAYER_READY:ze((function(e){return e.isReady}),c,n.payload.id)&&a({type:Ae.j});break;case b.PLAYER_STARTED_PLAYING:a({type:Ae.l});break;case b.PLAYER_STOPPED_PLAYING:ze((function(e){return!e.isPlaying}),c,n.payload.id)&&a({type:Ae.n});break;case b.PLAYER_STARTED_BUFFERING:N(n.payload.id)(c).hasEnded||a({type:Ae.k});break;case b.PLAYER_STOPPED_BUFFERING:ze((function(e){return!e.isBuffering||e.hasEnded}),c,n.payload.id)&&a({type:Ae.m});break;case b.PLAYER_PLAYED_TIME_UPDATED:case b.PLAYER_LOADED_TIME_UPDATED:case b.PLAYER_PROGRESS_UPDATED:case b.PLAYER_OFFSET_CHANGED:var o=y(c);if(n.type===b.PLAYER_OFFSET_CHANGED){var d=Object.entries(L(c)).reduce((function(e,t){var n=Object(s.a)(t,2),a=n[0],r=n[1],i=B(a)(c);return Math.max(e,i-r)}),0);Math.abs(d-o)>=1&&(o=d,a(_e(d)))}if(n.type===b.PLAYER_PLAYED_TIME_UPDATED||n.type===b.PLAYER_PROGRESS_UPDATED||n.type===b.PLAYER_OFFSET_CHANGED){var l=Object.entries(G(c)).reduce((function(e,t){var n=Object(s.a)(t,2),a=n[0],r=n[1],i=r.playedSeconds,o=r.hasEnded,d=w(a)(c);return o?e:Math.min(e,i-d)}),o);a(function(e){var t=e.playedSeconds,n=e.playedFraction;return{type:Ae.h,payload:{playedSeconds:t,playedFraction:n}}}({playedSeconds:l,playedFraction:l/o}))}if(n.type===b.PLAYER_LOADED_TIME_UPDATED||n.type===b.PLAYER_PROGRESS_UPDATED||n.type===b.PLAYER_OFFSET_CHANGED){var u=Object.entries(G(c)).reduce((function(e,t){var n=Object(s.a)(t,2),a=n[0],r=n[1],i=r.loadedSeconds,o=r.durationSeconds,d=r.hasEnded,l=w(a)(c);return d||i>=o-.01?e:Math.min(e,i-l)}),o);a(function(e){var t=e.loadedSeconds,n=e.loadedFraction;return{type:Ae.c,payload:{loadedSeconds:t,loadedFraction:n}}}({loadedSeconds:u,loadedFraction:u/o}))}break;case b.MASTER_PLAYER_PLAYED_TIME_UPDATED:var j=A(c),O=E(c);j&&Math.abs(O-j)<1&&a({type:Ae.f});break;case b.VIDEOS_ADDED:a({type:Ae.e});break;case b.VIDEO_DELETED:1===Object.keys(L(c)).length&&(a(_e(0)),a((i={playedSeconds:0,playedFraction:0,loadedSeconds:0,loadedFraction:0},{type:Ae.i,payload:Object(Y.a)({},i)})))}}}}),(function(e){return function(t){return function(n){var a=e.dispatch,r=(0,e.getState)(),i=ce(r),c=oe(r);switch(n.type){case b.VIDEOS_ADDED:Object.keys(n.payload).forEach((function(e,t){0===t&&0===i.length?a(He(e)):a(Ve(e))}));break;case b.VIDEO_DELETED:if(1===i.length&&i[0]===n.payload.id&&c.length>0){var o=c[0];a(Ue({mainPlayerIds:[o],secondaryPlayerIds:c.filter((function(e){return e!==o}))}));break}a(Ue({mainPlayerIds:i.filter((function(e){return e!==n.payload.id})),secondaryPlayerIds:c.filter((function(e){return e!==n.payload.id}))}));break;case b.SETTINGS_LAYOUT_CHANGED:n.payload.layout===b.Layout.Overlay&&(i.length>1&&a(Ue({mainPlayerIds:[i[0]],secondaryPlayerIds:[].concat(Object(M.a)(i.slice(1)),Object(M.a)(c))})),0===i.length&&a(Ue({mainPlayerIds:[c[0]],secondaryPlayerIds:Object(M.a)(c.slice(1))})))}t(n)}}})))),Ze=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Qe(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var et,tt,nt,at,rt,it,ct,ot,dt,lt,ut,st,bt,jt,Ot,ft,pt,ht,yt,gt,Et,xt,vt,Pt,mt,St,At,_t,Dt,Rt,Tt,Lt,wt,Mt,kt,It,Yt,Ft,Ct,Ut,Gt,Nt,Ht,Vt,Bt,zt,Wt,Kt,Xt,qt,Jt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,228)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,i=t.getLCP,c=t.getTTFB;n(e),a(e),r(e),i(e),c(e)}))},$t=n(219),Zt=n(220),Qt=n(221),en=n(72),tn=n(224),nn=n(103),an=n(32),rn=n(225),cn=n(182),on=n(183),dn=n(106),ln=n(222),un=n(186),sn=n(188),bn=n(189),jn=n(187),On=n(10),fn=n(11),pn=fn.b.div(et||(et=Object(On.a)(["\n    padding-top: 8px;\n"]))),hn=fn.b.div(tt||(tt=Object(On.a)(["\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n\n    padding-top: 24px;\n    padding-bottom: 24px;\n"]))),yn=fn.b.div(nt||(nt=Object(On.a)(["\n    flex: 1;\n    height: 1px;\n    box-shadow: inset 0 0 0 1px ",";\n"])),(function(e){return e.color})),gn=fn.b.div(at||(at=Object(On.a)(["\n    padding-left: 8px;\n    padding-right: 8px;\n    color: rgba(255, 255, 255, 0.4);\n"]))),En=fn.b.div(rt||(rt=Object(On.a)(["\n    width: 100%;\n    height: 72px;\n\n    display: flex;\n    justify-content: center;\n    align-items: center;\n\n    border-radius: 8px;\n    border: 1px dashed rgba(255, 255, 255, 0.7);\n    color: white;\n\n    ","\n\n    cursor: pointer;\n"])),(function(e){return e.isDragActive&&"\n        border-color: ".concat(e.activeColor,";\n        color: ").concat(e.activeColor,";\n    ")})),xn=fn.b.div(it||(it=Object(On.a)(["\n    display: flex;\n    flex-direction: column;\n    margin-top: 8px;\n"]))),vn=fn.b.div(ct||(ct=Object(On.a)(["\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n"]))),Pn=n(1),mn=Object(o.b)(null,{addVideos:function(e){return{type:Be.a,payload:e}}})((function(e){var t=e.open,n=e.onClose,r=e.addVideos,i=Object(an.a)(),c=Object(a.useState)(Object(I.a)({},Object(tn.a)(),{url:""})),o=Object(s.a)(c,2),d=o[0],l=o[1],u=Object(a.useState)({}),b=Object(s.a)(u,2),j=b[0],f=b[1],p=Object(a.useState)({}),h=Object(s.a)(p,2),y=h[0],g=h[1],E=Object(nn.a)({accept:"video/*",onDropAccepted:function(e){var t=e.map((function(e){return{id:Object(tn.a)(),name:e.name,url:URL.createObjectURL(e)}})),n=Object.fromEntries(t.map((function(e){return[e.id,{url:e.url}]}))),a=Object.fromEntries(t.map((function(e){return[e.id,e.name]})));f(Object(Y.a)(Object(Y.a)({},j),n)),g(Object(Y.a)(Object(Y.a)({},y),a))}}),x=E.getRootProps,v=E.getInputProps,P=E.isDragActive,m=Object(a.useCallback)((function(){var e=function(e){return Object.fromEntries(Object.entries(e).filter((function(e){var t=Object(s.a)(e,2);t[0];return""!==t[1].url})))};r(Object(Y.a)(Object(Y.a)({},e(d)),e(j))),n(),l(Object(I.a)({},Object(tn.a)(),{url:""})),f({}),g({})}),[r,n,d,j]),S=Object(a.useCallback)((function(e){"Enter"===e.key&&m()}),[m]);Object(a.useEffect)((function(){return t?window.addEventListener("keypress",S):window.removeEventListener("keypress",S),function(){window.removeEventListener("keypress",S)}}),[t,S]);var A=function(e){return function(t){""!==t.target.value&&Object.keys(d).every((function(t){return t===e||""!==d[t].url}))&&(d[Object(tn.a)()]={url:""}),l(Object(Y.a)(Object(Y.a)({},d),{},Object(I.a)({},e,{url:t.target.value})))}},_=function(e){return function(){""===d[e].url&&Object.keys(d).some((function(t){return t!==e&&""===d[t].url}))&&l(Object(O.omit)(e,d))}},D=function(e){return function(){f(Object(O.omit)(e,j)),g(Object(O.omit)(e,y))}},R=Object.keys(j).length>0||Object.keys(d).some((function(e){return""!==d[e].url})),T=Object(Y.a)(Object(Y.a)({},x({isDragActive:P})),{},{activeColor:i.palette.primary.main});return Object(Pn.jsxs)(rn.a,{fullWidth:!0,open:t,onClose:n,children:[Object(Pn.jsx)(cn.a,{children:"Add new videos"}),Object(Pn.jsxs)(on.a,{children:[Object(Pn.jsx)(dn.a,{variant:"body1",children:"Paste links to the videos here"}),Object.keys(d).map((function(e,t){var n={value:d[e].url,onChange:A(e),onBlur:_(e),placeholder:"Video ".concat(t+1),fullWidth:!0};return Object(Pn.jsx)(pn,{children:Object(Pn.jsx)(ln.a,Object(Y.a)({},n))},e)})),Object(Pn.jsxs)(hn,{children:[Object(Pn.jsx)(yn,{color:i.palette.divider}),Object(Pn.jsx)(gn,{children:Object(Pn.jsx)(dn.a,{variant:"h6",children:"OR"})}),Object(Pn.jsx)(yn,{color:i.palette.divider})]}),Object(Pn.jsxs)(En,Object(Y.a)(Object(Y.a)({},T),{},{children:[Object(Pn.jsx)("input",Object(Y.a)({},v())),Object(Pn.jsx)(dn.a,{variant:"body1",children:"Add files"})]})),Object(Pn.jsx)(xn,{children:Object.keys(j).map((function(e){return Object(Pn.jsxs)(vn,{children:[Object(Pn.jsx)(un.a,{size:"small",onClick:D(e),children:Object(Pn.jsx)(jn.a,{fontSize:"small"})}),Object(Pn.jsx)("div",{style:{width:"4px"}}),Object(Pn.jsx)(dn.a,{variant:"body1",children:y[e]})]},e)}))})]}),Object(Pn.jsxs)(sn.a,{children:[Object(Pn.jsx)(bn.a,{onClick:n,children:"Cancel"}),Object(Pn.jsx)(bn.a,{color:"primary",variant:"contained",onClick:m,disabled:!R,children:"Confirm"})]})]})})),Sn=n(190),An=n(191),_n=n(192),Dn=Object(o.b)(Object(j.b)({isFullscreen:ae}))((function(e){var t=e.onAddVideosClick,n=e.isFullscreen;return n?null:Object(Pn.jsx)(Sn.a,{in:!n,children:Object(Pn.jsx)(An.a,{position:"static",color:"inherit",children:Object(Pn.jsxs)(_n.a,{variant:"dense",children:[Object(Pn.jsx)("img",{src:"".concat("/multiview","/logo192-clean.png"),alt:"Multiview",width:"30px",height:"30px"}),Object(Pn.jsx)("div",{style:{width:"12px"}}),Object(Pn.jsx)(dn.a,{variant:"h6",children:"Multiview"}),Object(Pn.jsx)("div",{style:{flex:1}}),Object(Pn.jsx)(bn.a,{variant:"outlined",color:"default",onClick:function(){t&&t()},children:"Add videos"})]})})})})),Rn=Object(o.b)(Object(j.b)({focusedPlayerId:se,isPlaying:je,durationSeconds:Oe,playedSeconds:fe,volume:pe,isMuted:he}),{playerStartPlaying:ye,masterPlayerStartPlaying:Le,playerStopPlaying:ge,masterPlayerStopPlaying:we,playerSeekTo:Se,masterPlayerSeekTo:Me,playerUpdateVolume:ve,masterPlayerUpdateVolume:De,playerMute:Pe,masterPlayerMute:Re,playerUnmute:me,masterPlayerUnmute:Te})((function(e){var t=e.isActive,n=e.isPlaying,r=e.focusedPlayerId,i=e.playedSeconds,c=e.durationSeconds,o=e.volume,d=e.isMuted,l=e.playerStartPlaying,u=e.masterPlayerStartPlaying,s=e.playerStopPlaying,b=e.masterPlayerStopPlaying,j=e.playerSeekTo,O=e.masterPlayerSeekTo,f=e.playerUpdateVolume,p=e.masterPlayerUpdateVolume,h=e.playerMute,y=e.masterPlayerMute,g=e.playerUnmute,E=e.masterPlayerUnmute,x=Object(a.useCallback)((function(e){if(t){var a=!0;switch(e.code){case"Space":n?r?s(r):b():r?l(r):u();break;case"ArrowLeft":case"ArrowRight":var x=Math.max(0,Math.min(c,i+5*("ArrowLeft"===e.code?-1:1)));r?j(r,{seekToSeconds:x}):O(x);break;case"ArrowUp":case"ArrowDown":var v=Math.max(0,Math.min(1,o+.1*("ArrowDown"===e.code?-1:1)));r?f(r,{volume:v}):p(v);break;case"KeyM":d?r?g(r):E():r?h(r):y();break;default:a=!1}a&&e.preventDefault()}}),[t,n,r,c,i,o,d,l,u,s,b,j,O,f,p,h,y,g,E]);return Object(a.useEffect)((function(){return window.addEventListener("keydown",x),function(){window.removeEventListener("keydown",x)}}),[x]),null})),Tn=n(227),Ln=n(217),wn=n(218),Mn=n(196),kn=n(197),In=function(e){var t=Math.round(e),n=Math.floor(t/3600),a=Math.floor(t%3600/60),r=t%60,i=n>0?"".concat(n,":"):"",c=n>0&&a<10?"0".concat(a):"".concat(a,":"),o=r<10?"0".concat(r):r;return"".concat(i).concat(c).concat(o)},Yn=function(e){for(var t=e.containerWidth,n=e.containerHeight,a=e.numberOfPlayers,r=0,i=t,c=0;Math.abs(r-i)>=1e-5&&c<=1e3;){var o=Math.ceil((i+r)/2),d=o,l=Math.ceil(d/16*9);Fn({containerWidth:t,containerHeight:n,playerWidth:d,playerHeight:l,numberOfPlayers:a})?r=o:i=o-1,c+=1}var u=r;return{playerWidth:u,playerHeight:Math.ceil(u/16*9)}},Fn=function(e){var t=e.containerWidth,n=e.containerHeight,a=e.playerWidth,r=e.playerHeight,i=e.numberOfPlayers,c=Math.floor(t/a);return Math.ceil(i/c)*r<=n},Cn=function(e){var t=e.playerWidth,n=e.playerHeight,a=e.containerWidth,r=e.containerHeight,i=e.numberOfPlayers,c=e.alignToRight,o=Math.floor(a/t),d=Math.ceil(i/o);return Array.from({length:i}).map((function(e,l){var u=Math.floor(l/o),s=(a-(u===d-1?o-(o*d-i):o)*t)/2;return c&&(s*=2),{top:u*n+(r-d*n)/2,left:l%o*t+s,width:t,height:n}}))},Un=fn.b.div(ot||(ot=Object(On.a)(["\n    height: 19px;\n    margin-left: 8px;\n    margin-right: 8px;\n\n    position: relative;\n    top: -8px;\n    left: 0;\n    right: 0;\n\n    z-index: 1000;\n    cursor: pointer;\n"]))),Gn=fn.b.div(dt||(dt=Object(On.a)(["\n    height: 3px;\n\n    position: relative;\n    top: 8px;\n    left: 0;\n    right: 0;\n\n    transition: 100ms;\n\n    ","\n"])),(function(e){return e.wide?"\n        height: 4px;\n        top: 7.5px;\n    ":null})),Nn=fn.b.div.attrs((function(e){return{style:{right:"calc(100% - 100% * ".concat(e.progress,")")}}}))(lt||(lt=Object(On.a)(["\n    width: auto;\n    height: 100%;\n    position: absolute;\n    top: 0;\n    left: 0;\n\n    background-color: ",";\n"])),(function(e){return e.color})),Hn=fn.b.div.attrs((function(e){return{style:{right:"calc(100% - 100% * ".concat(e.progress," - 6px)")}}}))(ut||(ut=Object(On.a)(["\n    width: 12px;\n    height: 12px;\n    border-radius: 50%;\n    background-color: ",";\n\n    position: absolute;\n    top: -4px;\n\n    transform: scale(",");\n    transition: transform 100ms;\n"])),(function(e){return e.color}),(function(e){return e.visible?1:0})),Vn=fn.b.div.attrs((function(e){return{style:{left:"max(0px, min(calc(100% - 64px), calc(100% * ".concat(e.progress," - 32px)))")}}}))(st||(st=Object(On.a)(["\n    width: 64px;\n    height: 32px;\n\n    position: absolute;\n    top: -32px;\n\n    display: flex;\n    justify-content: center;\n    align-items: center;\n\n    opacity: ",";\n    transition: opacity 100ms;\n\n    pointer-events: none;\n"])),(function(e){return e.visible?1:0})),Bn=Object(O.throttle)(1e3,(function(e,t){t&&t(e)})),zn=function(e){var t=e.playedFraction,n=e.loadedFraction,r=e.durationSeconds,i=e.isBuffering,c=e.onSeek,o=Object(an.a)(),d=Object(a.useState)(!1),l=Object(s.a)(d,2),u=l[0],b=l[1],j=Object(a.useState)(!1),O=Object(s.a)(j,2),f=O[0],p=O[1],h=Object(a.useState)(t),y=Object(s.a)(h,2),g=y[0],E=y[1],x=Object(a.useState)(0),v=Object(s.a)(x,2),P=v[0],m=v[1],S=Object(a.useRef)(null);Object(a.useEffect)((function(){f||i||E(t)}),[t,f,i]);var A=function(e){var t=S.current;if(t){var n=t.getBoundingClientRect(),a=n.width,r=e-n.x;return Math.max(0,Math.min(a,r))/a}return 0},_=function(e){var t=A(e);m(t),E(t),Bn(t,c)},D=function(e){_(e.clientX),e.preventDefault()},R=function e(){p(!1),window.removeEventListener("mousemove",D),window.removeEventListener("mouseup",e)},T=u||f,L={onMouseEnter:function(){return b(!0)},onMouseLeave:function(){return b(!1)},onMouseMove:function(e){var t=A(e.clientX);m(t)},onMouseDown:function(e){p(!0),_(e.clientX),window.addEventListener("mousemove",D),window.addEventListener("mouseup",R)},onMouseUp:R};return null===r||r===1/0?Object(Pn.jsx)(Un,{style:{cursor:"initial "},children:Object(Pn.jsx)(Gn,{wide:!1,children:Object(Pn.jsx)(Nn,{progress:1,color:"rgba(255, 255, 255, 0.2)"})})}):Object(Pn.jsx)(Un,Object(Y.a)(Object(Y.a)({},L),{},{children:Object(Pn.jsxs)(Gn,{wide:T,ref:S,children:[Object(Pn.jsx)(Nn,{progress:1,color:"rgba(255, 255, 255, 0.2)"}),Object(Pn.jsx)(Nn,{progress:n,color:"rgba(255, 255, 255, 0.6)"}),Object(Pn.jsx)(Nn,{progress:g,color:o.palette.primary.light}),Object(Pn.jsx)(Hn,{progress:g,color:o.palette.primary.light,visible:T}),Object(Pn.jsx)(Vn,{progress:P,visible:T,children:Object(Pn.jsx)(dn.a,{variant:"caption",children:In(Math.round(P*r))})})]})}))},Wn=n(7),Kn=n(226),Xn=n(193),qn=n(194),Jn=n(195),$n=fn.b.div(bt||(bt=Object(On.a)(["\n    width: ","px;\n    height: 30px;\n    overflow: hidden;\n\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n\n    transition: width 100ms;\n"])),(function(e){return e.isSliderVisible?114:30})),Zn=fn.b.div(jt||(jt=Object(On.a)(["\n    margin-right: 12px;\n    z-index: 1;\n"]))),Qn=fn.b.div(Ot||(Ot=Object(On.a)(["\n    width: 62px;\n    height: 28px;\n    z-index: 0;\n"]))),ea=Object(Wn.a)({root:{color:"white",height:4},thumb:{"&:focus, &:hover, &$active":{boxShadow:"inherit"}},active:{},track:{height:4,marginTop:-1},rail:{height:4,marginTop:-1}})(Kn.a),ta=Object(O.throttle)(100,(function(e,t){t&&t(e)})),na=function(e,t){return t||0===e?Object(Pn.jsx)(Xn.a,{}):e<.5?Object(Pn.jsx)(qn.a,{}):Object(Pn.jsx)(Jn.a,{})},aa=function(e){var t=e.volume,n=e.isMuted,r=e.onVolumeChange,i=e.onMuteUnmute,c=Object(a.useState)(!1),o=Object(s.a)(c,2),d=o[0],l=o[1],u=Object(a.useState)(!1),b=Object(s.a)(u,2),j=b[0],O=b[1],f=Object(a.useState)(t),p=Object(s.a)(f,2),h=p[0],y=p[1];Object(a.useEffect)((function(){j||y(t)}),[t,j,y]),Object(a.useEffect)((function(){return window.addEventListener("mouseup",(function(){return O(!1)})),function(){window.removeEventListener("mouseup",(function(){return O(!1)}))}}),[O]);var g={isSliderVisible:d||j,onMouseEnter:function(){return l(!0)},onMouseLeave:function(){return l(!1)}},E={onMouseDown:function(){return O(!0)},onMouseUp:function(){return O(!1)}},x={value:h,min:0,max:1,step:.01,onChange:function(e,t){var n=(Array.isArray(t)?t[0]:t)||0;ta(n,r),y(n)}};return Object(Pn.jsxs)($n,Object(Y.a)(Object(Y.a)({},g),{},{children:[Object(Pn.jsx)(Zn,{children:Object(Pn.jsx)(un.a,{size:"small",onClick:function(){i&&i(!n)},children:na(t,n)})}),Object(Pn.jsx)(Qn,Object(Y.a)(Object(Y.a)({},E),{},{children:Object(Pn.jsx)(ea,Object(Y.a)({},x))}))]}))},ra=fn.b.div(ft||(ft=Object(On.a)(["\n    width: 100%;\n    height: 46px;\n"]))),ia=fn.b.div(pt||(pt=Object(On.a)(["\n    width: 100%;\n    position: absolute;\n    left: 0;\n    bottom: 0;\n\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n"]))),ca=fn.b.div(ht||(ht=Object(On.a)(["\n    height: 30px;\n\n    display: flex;\n    flex-direction: row;\n    flex: 1;\n"]))),oa=fn.b.div(yt||(yt=Object(On.a)(["\n    height: 100%;\n    padding-left: 12px;\n\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n\n    user-select: none;\n"]))),da=fn.b.div(gt||(gt=Object(On.a)(["\n    flex: 1;\n"]))),la=fn.b.div(Et||(Et=Object(On.a)(["\n    height: 28px;\n\n    display: flex;\n    flex-direction: row;\n    justify-content: right;\n    align-items: center;\n"]))),ua=function(e){var t=e.isPlaying,n=e.isBuffering,a=e.isMuted,r=e.volume,i=e.durationSeconds,c=e.playedFraction,o=e.loadedFraction,d=e.onPlay,l=e.onPause,u=e.onMuteUnmute,s=e.onVolumeChange,b=e.onSeek,j=e.actions,O={playedFraction:c,loadedFraction:o,durationSeconds:i,isBuffering:n,onSeek:function(e){b(e*i)}},f={volume:a?0:r,onMuteUnmute:u,onVolumeChange:s},p=null===i||i===1/0;return Object(Pn.jsxs)(ra,{children:[Object(Pn.jsx)(zn,Object(Y.a)({},O)),Object(Pn.jsxs)(ia,{children:[Object(Pn.jsx)(un.a,{size:"small",onClick:function(){t?l():d()},children:t?Object(Pn.jsx)(Mn.a,{fontSize:"large"}):Object(Pn.jsx)(kn.a,{fontSize:"large"})}),Object(Pn.jsxs)(ca,{children:[Object(Pn.jsx)("div",{style:{width:"10px"}}),Object(Pn.jsx)(aa,Object(Y.a)({},f)),p?null:Object(Pn.jsxs)(oa,{children:[Object(Pn.jsx)(dn.a,{variant:"body2",children:In(Math.round(c*i))}),Object(Pn.jsx)("div",{style:{width:"4px"}}),Object(Pn.jsx)(dn.a,{variant:"body2",children:" / "}),Object(Pn.jsx)("div",{style:{width:"4px"}}),Object(Pn.jsx)(dn.a,{variant:"body2",children:In(i)})]}),Object(Pn.jsx)(da,{}),Object(Pn.jsx)(la,{children:j})]})]})]})},sa=n(104),ba=n(205),ja=n(206),Oa=n(208),fa=n(198),pa=n(199),ha=n(200),ya=n(201),ga=n(202),Ea=n(203),xa=n(204),va=Object(o.b)((function(e,t){return{layout:ie(e),isMainPlayer:de(t.id)(e),canMoveLeft:le(t.id)(e),canMoveRight:ue(t.id)(e)}}),{movePlayerToMainPlayers:He,movePlayerToSecondaryPlayers:Ve,makePlayerMain:function(e){return function(t,n){var a=n(),r=ce(a),i=oe(a);t(Ue({mainPlayerIds:[e],secondaryPlayerIds:[].concat(Object(M.a)(r),Object(M.a)(i)).filter((function(t){return t!==e}))}))}},movePlayerLeft:function(e){return function(t,n){var a=n(),r=ie(a),i=Object(M.a)(ce(a)),c=Object(M.a)(oe(a)),o=i.indexOf(e),d=c.indexOf(e);o>0?(i[o]=i[o-1],i[o-1]=e):d>0?(c[d]=c[d-1],c[d-1]=e):0===d&&(r===te.b.Grid?(c[0]=i[i.length-1],i[i.length-1]=e):(i=[].concat(Object(M.a)(i),[e]),c=c.slice(1,c.length))),t(Ue({mainPlayerIds:Object(M.a)(i),secondaryPlayerIds:Object(M.a)(c)}))}},movePlayerRight:function(e){return function(t,n){var a=n(),r=ie(a),i=Object(M.a)(ce(a)),c=Object(M.a)(oe(a)),o=i.indexOf(e),d=c.indexOf(e);-1!==o&&o<i.length-1?(i[o]=i[o+1],i[o+1]=e):o===i.length-1?r===te.b.Grid?(i[o]=c[0],c[0]=e):(i=i.slice(0,i.length-1),c=[e].concat(Object(M.a)(c))):-1!==d&&d<c.length-1&&(c[d]=c[d+1],c[d+1]=e),t(Ue({mainPlayerIds:Object(M.a)(i),secondaryPlayerIds:Object(M.a)(c)}))}},removeVideo:function(e){return function(t){t(function(e){return{type:Be.b,payload:{id:e}}}(e)),t(function(e){return{type:F.a,payload:{id:e}}}(e))}}})((function(e){var t=e.id,n=e.onHide,r=e.dense,i=e.layout,c=e.isMainPlayer,o=e.canMoveLeft,d=e.canMoveRight,l=e.movePlayerToMainPlayers,u=e.movePlayerToSecondaryPlayers,j=e.makePlayerMain,O=e.movePlayerLeft,f=e.movePlayerRight,p=e.removeVideo,h=Object(a.useRef)(null),y=Object(a.useState)(!1),g=Object(s.a)(y,2),E=g[0],x=g[1],v=Object(a.useState)(!1),P=Object(s.a)(v,2),m=P[0],S=P[1],A=function(){x(!1)},_=[{isShown:(i===b.Layout.Focused||i===b.Layout.Overlay)&&!c,title:"Focus",icon:Object(Pn.jsx)(fa.a,{fontSize:"small"}),onClick:function(){j(t)}},{isShown:o,title:"Move left",icon:Object(Pn.jsx)(pa.a,{fontSize:"small"}),onClick:function(){return O(t)}},{isShown:i===b.Layout.Focused,title:c?"Move down":"Move up",icon:c?Object(Pn.jsx)(ha.a,{fontSize:"small"}):Object(Pn.jsx)(ya.a,{fontSize:"small"}),onClick:function(){c?u(t):l(t)}},{isShown:d,title:"Move right",icon:Object(Pn.jsx)(ga.a,{fontSize:"small"}),onClick:function(){return f(t)}},{isShown:!0,title:"Hide controls overlay",icon:Object(Pn.jsx)(Ea.a,{fontSize:"small"}),onClick:function(){n&&n()}},{isShown:!0,title:"Remove video",icon:Object(Pn.jsx)(jn.a,{fontSize:"small"}),onClick:function(){S(!0)}}];return Object(Pn.jsxs)(Pn.Fragment,{children:[r?Object(Pn.jsxs)(Pn.Fragment,{children:[Object(Pn.jsx)(un.a,{size:"small",ref:h,onClick:function(){x(!0)},children:Object(Pn.jsx)(xa.a,{fontSize:"small"})}),Object(Pn.jsx)("div",{style:{width:"4px"}}),Object(Pn.jsx)(sa.a,{anchorEl:h.current,open:E,onClose:A,onClick:A,children:_.map((function(e){var t=e.isShown,n=e.title,a=e.icon,r=e.onClick;return t?Object(Pn.jsxs)(ba.a,{dense:!0,onClick:r,children:[Object(Pn.jsx)(ja.a,{children:a}),Object(Pn.jsx)(dn.a,{variant:"body1",children:n})]},n):null}))})]}):_.map((function(e){var t=e.isShown,n=e.title,a=e.icon,r=e.onClick;return t?Object(Pn.jsxs)("div",{children:[Object(Pn.jsx)(Tn.a,{title:n,children:Object(Pn.jsx)(un.a,{size:"small",onClick:r,children:a})}),Object(Pn.jsx)("div",{style:{width:"4px"}})]},n):null})),Object(Pn.jsx)("div",{style:{width:"4px"}}),Object(Pn.jsxs)(rn.a,{open:m,children:[Object(Pn.jsx)(cn.a,{children:"Confirm deletion"}),Object(Pn.jsxs)(on.a,{children:[Object(Pn.jsx)(Oa.a,{children:"Are you sure you want to delete this video?"}),Object(Pn.jsxs)(sn.a,{children:[Object(Pn.jsx)(bn.a,{onClick:function(){S(!1)},color:"default",children:"Cancel"}),Object(Pn.jsx)(bn.a,{onClick:function(){p(t)},color:"primary",variant:"contained",children:"Delete"})]})]})]})]})})),Pa=Object(o.b)((function(e,t){var n=t.id;return{isPlaying:H(n)(e),isBuffering:V(n)(e),isMuted:J(n)(e),volume:q(n)(e),durationSeconds:B(n)(e),playedFraction:W(n)(e),loadedFraction:X(n)(e)}}),{playerStartPlaying:ye,playerStopPlaying:ge,playerUpdateVolume:ve,playerMute:Pe,playerUnmute:me,playerPushPendingSeek:Se,playerStartBuffering:Ee})((function(e){var t=e.id,n=e.isMuted,a=e.onHide,r=e.playerStartPlaying,i=e.playerStopPlaying,c=e.playerUpdateVolume,o=e.playerMute,d=e.playerUnmute,l=e.playerPushPendingSeek,u=e.playerStartBuffering,s=e.playerWidth,b=(e.playerHeight,Object(k.a)(e,["id","isMuted","onHide","playerStartPlaying","playerStopPlaying","playerUpdateVolume","playerMute","playerUnmute","playerPushPendingSeek","playerStartBuffering","playerWidth","playerHeight"])),j=!!s&&s<320,O=Object(Y.a)({isMuted:n,onPlay:function(){return r(t)},onPause:function(){return i(t)},onMuteUnmute:function(){n?d(t):o(t)},onVolumeChange:function(e){return c(t,{volume:e})},onSeek:function(e){u(t),l(t,{seekToSeconds:e})},actions:Object(Pn.jsx)(va,{id:t,onHide:a,dense:j})},b);return Object(Pn.jsx)(ua,Object(Y.a)({},O))})),ma=n(214),Sa=n(215),Aa=n(216),_a=n(207),Da=n(185),Ra=n(153),Ta=n(209),La=n(212),wa=n(210),Ma=n(211),ka=n(213),Ia=fn.b.div(xt||(xt=Object(On.a)(["\n    width: 220px;\n    height: 500px;\n    padding-bottom: 16px;\n\n    display: flex;\n    flex-direction: column;\n    justify-content: flex-end;\n\n    overflow: hidden;\n    pointer-events: none;\n"]))),Ya=fn.b.div(vt||(vt=Object(On.a)(["\n    width: 100%;\n    height: ","px;\n\n    border-radius: 4px;\n    background-color: rgba(28, 28, 28, 0.9);\n    overflow: hidden;\n    pointer-events: all;\n\n    display: flex;\n    flex-direction: column;\n    justify-content: flex-end;\n\n    transition: height 100ms;\n"])),(function(e){return e.height})),Fa=fn.b.div(Pt||(Pt=Object(On.a)(["\n    width: 100%;\n    height: 24px;\n\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n"]))),Ca=fn.b.div(mt||(mt=Object(On.a)(["\n    margin-right: -8px;\n\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n"]))),Ua=fn.b.span(St||(St=Object(On.a)(["\n    font-size: 0.875rem;\n    line-height: 24px;\n"]))),Ga=fn.b.span(At||(At=Object(On.a)(["\n    margin-top: 2px;\n    font-size: 0.75rem;\n    line-height: 24px;\n"]))),Na=(fn.b.div(_t||(_t=Object(On.a)(["\n    width: 64px;\n"]))),fn.b.div(Dt||(Dt=Object(On.a)(["\n    height: 32px;\n\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n"])))),Ha=fn.b.div(Rt||(Rt=Object(On.a)(["\n    width: calc(100% + 20px);\n    margin-left: -12px;\n    margin-right: -8px;\n\n    display: flex;\n    flex-direction: row;\n    align-items: flex-start;\n"]))),Va=fn.b.div(Tt||(Tt=Object(On.a)(["\n    width: 36px;\n    padding: 4px;\n    padding-right: 8px;\n"]))),Ba=fn.b.div(Lt||(Lt=Object(On.a)(["\n    flex: 1;\n    padding-top: 4px;\n    padding-bottom: 4px;\n\n    display: flex;\n    flex-direction: column;\n"]))),za=fn.b.div(wt||(wt=Object(On.a)(["\n    font-size: 0.875rem;\n    margin-bottom: 2px;\n"]))),Wa=fn.b.div(Mt||(Mt=Object(On.a)(["\n    font-size: 0.75rem;\n    color: rgba(255, 255, 255, 0.7);\n"]))),Ka=Object(o.b)(Object(j.b)({controlsMode:re,layout:ie}),{changeControlsMode:Ce,changeLayout:function(e){return{type:te.g,payload:{layout:e}}}})((function(e){var t=e.isOpen,n=e.anchorElement,r=e.controlsMode,i=e.layout,c=e.changeControlsMode,o=e.changeLayout,d=Object(a.useState)(0),l=Object(s.a)(d,2),u=l[0],j=l[1];Object(a.useEffect)((function(){j(0)}),[t]);var O={open:t,anchorEl:n,placement:"top",style:{zIndex:1e4,pointerEvents:"none"}},f=[80,288,267][u],p={appear:!1,mountOnEnter:!0,unmountOnExit:!0};return Object(Pn.jsx)(_a.a,Object(Y.a)(Object(Y.a)({},O),{},{children:Object(Pn.jsx)(Ia,{children:Object(Pn.jsxs)(Ya,{height:f,children:[Object(Pn.jsx)(Sn.a,Object(Y.a)(Object(Y.a)({},p),{},{direction:"right",in:0===u,children:Object(Pn.jsxs)(Da.a,{dense:!0,children:[Object(Pn.jsx)(Ra.a,{button:!0,onClick:function(){return j(1)},children:Object(Pn.jsxs)(Fa,{children:[Object(Pn.jsx)(Ua,{children:"Layout"}),Object(Pn.jsxs)(Ca,{children:[Object(Pn.jsx)(Ga,{children:i}),Object(Pn.jsx)(Ta.a,{children:Object(Pn.jsx)(wa.a,{})})]})]})}),Object(Pn.jsx)(Ra.a,{button:!0,onClick:function(){return j(2)},children:Object(Pn.jsxs)(Fa,{children:[Object(Pn.jsx)(Ua,{children:"Controls"}),Object(Pn.jsxs)(Ca,{children:[Object(Pn.jsx)(Ga,{children:r}),Object(Pn.jsx)(Ta.a,{children:Object(Pn.jsx)(wa.a,{})})]})]})})]})})),Object(Pn.jsx)(Sn.a,Object(Y.a)(Object(Y.a)({},p),{},{direction:"left",in:1===u,children:Object(Pn.jsxs)(Da.a,{dense:!0,children:[Object(Pn.jsx)(Ra.a,{button:!0,onClick:function(){return j(0)},children:Object(Pn.jsxs)(Na,{children:[Object(Pn.jsx)(Ta.a,{style:{marginLeft:"-8px",marginRight:"8px"},children:Object(Pn.jsx)(Ma.a,{})}),Object(Pn.jsx)(Ua,{children:"Layout"})]})}),Object(Pn.jsx)(La.a,{style:{backgroundColor:"rgba(255, 255, 255, 0.3)"}}),Object(Pn.jsx)(Ra.a,{button:!0,onClick:function(){return o(b.Layout.Overlay)},children:Object(Pn.jsxs)(Ha,{children:[Object(Pn.jsx)(Va,{children:i===b.Layout.Overlay?Object(Pn.jsx)(Ta.a,{children:Object(Pn.jsx)(ka.a,{})}):null}),Object(Pn.jsxs)(Ba,{children:[Object(Pn.jsx)(za,{children:"Overlay"}),Object(Pn.jsx)(Wa,{children:"One big player in the middle, the rest in an overlaid list at the top right."})]})]})}),Object(Pn.jsx)(Ra.a,{button:!0,onClick:function(){return o(b.Layout.Focused)},children:Object(Pn.jsxs)(Ha,{children:[Object(Pn.jsx)(Va,{children:i===b.Layout.Focused?Object(Pn.jsx)(Ta.a,{children:Object(Pn.jsx)(ka.a,{})}):null}),Object(Pn.jsxs)(Ba,{children:[Object(Pn.jsx)(za,{children:"Focused"}),Object(Pn.jsx)(Wa,{children:"One or more big players at the top, the rest in a list of small players at the bottom."})]})]})}),Object(Pn.jsx)(Ra.a,{button:!0,onClick:function(){return o(b.Layout.Grid)},children:Object(Pn.jsxs)(Ha,{children:[Object(Pn.jsx)(Va,{children:i===b.Layout.Grid?Object(Pn.jsx)(Ta.a,{children:Object(Pn.jsx)(ka.a,{})}):null}),Object(Pn.jsxs)(Ba,{children:[Object(Pn.jsx)(za,{children:"Grid"}),Object(Pn.jsx)(Wa,{children:"A grid of equally sized players."})]})]})})]})})),Object(Pn.jsx)(Sn.a,Object(Y.a)(Object(Y.a)({},p),{},{direction:"left",in:2===u,children:Object(Pn.jsxs)(Da.a,{dense:!0,children:[Object(Pn.jsx)(Ra.a,{button:!0,onClick:function(){return j(0)},children:Object(Pn.jsxs)(Na,{children:[Object(Pn.jsx)(Ta.a,{style:{marginLeft:"-8px",marginRight:"8px"},children:Object(Pn.jsx)(Ma.a,{})}),Object(Pn.jsx)(Ua,{children:"Controls"})]})}),Object(Pn.jsx)(La.a,{style:{backgroundColor:"rgba(255, 255, 255, 0.3)"}}),Object(Pn.jsx)(Ra.a,{button:!0,onClick:function(){return c(b.ControlsMode.Individual)},children:Object(Pn.jsxs)(Ha,{children:[Object(Pn.jsx)(Va,{children:r===b.ControlsMode.Individual?Object(Pn.jsx)(Ta.a,{children:Object(Pn.jsx)(ka.a,{})}):null}),Object(Pn.jsxs)(Ba,{children:[Object(Pn.jsx)(za,{children:"Individual"}),Object(Pn.jsx)(Wa,{children:"Show controls for each player individually. Keyboard and mouse actions will be executed on the hovered player."})]})]})}),Object(Pn.jsx)(Ra.a,{button:!0,onClick:function(){return c(b.ControlsMode.Grouped)},children:Object(Pn.jsxs)(Ha,{children:[Object(Pn.jsx)(Va,{children:r===b.ControlsMode.Grouped?Object(Pn.jsx)(Ta.a,{children:Object(Pn.jsx)(ka.a,{})}):null}),Object(Pn.jsxs)(Ba,{children:[Object(Pn.jsx)(za,{children:"Grouped"}),Object(Pn.jsx)(Wa,{children:"Only show the main controls. Keyboard and mouse actions will affect all players at the same time."})]})]})})]})}))]})})}))})),Xa=Object(o.b)(Object(j.b)({isFullscreen:ae}),{toggleFullscreen:function(){return function(e,t){e(ae(t())?Ne():Ge())}}})((function(e){var t=e.isVisible,n=e.isFullscreen,r=e.toggleFullscreen,i=Object(a.useRef)(null),c=Object(a.useState)(!1),o=Object(s.a)(c,2),d=o[0],l=o[1],u={isOpen:t&&d,anchorElement:i.current};return Object(Pn.jsxs)(Pn.Fragment,{children:[Object(Pn.jsx)(ma.a,{onClickAway:function(){return l(!1)},children:Object(Pn.jsxs)("div",{children:[Object(Pn.jsx)(un.a,{size:"small",onClick:function(){return l(!d)},ref:i,children:Object(Pn.jsx)("div",{style:{width:"24px",height:"24px",display:"flex",justifyContent:"center",alignItems:"center"},children:Object(Pn.jsx)(xa.a,{fontSize:"small"})})}),Object(Pn.jsx)(Ka,Object(Y.a)({},u))]})}),Object(Pn.jsx)(un.a,{size:"small",onClick:r,children:n?Object(Pn.jsx)(Sa.a,{}):Object(Pn.jsx)(Aa.a,{})}),Object(Pn.jsx)("div",{style:{width:"4px"}})]})})),qa=Object(o.b)(Object(j.b)({isPlaying:p,isBuffering:h,isMuted:S,volume:m,durationSeconds:y,playedFraction:x,loadedFraction:P}),{startPlayback:Le,stopPlayback:we,seekTo:Me,updateVolume:De,mute:Re,unmute:Te})((function(e){var t=e.isVisible,n=e.isMuted,a=e.startPlayback,r=e.stopPlayback,i=e.updateVolume,c=e.mute,o=e.unmute,d=e.seekTo,l=Object(k.a)(e,["isVisible","isMuted","startPlayback","stopPlayback","updateVolume","mute","unmute","seekTo"]),u=Object(Y.a)({isMuted:n,onPlay:a,onPause:r,onMuteUnmute:function(){n?o():c()},onVolumeChange:i,onSeek:d,actions:Object(Pn.jsx)(Xa,{isVisible:t})},l);return Object(Pn.jsx)(ua,Object(Y.a)({},u))})),Ja=fn.b.div(kt||(kt=Object(On.a)(["\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n\n    pointer-events: ",";\n    ","\n\n    ","\n\n    overflow: hidden;\n"])),(function(e){return e.isBlockingPointerEvents?"initial":"none"}),(function(e){return e.isCursorHidden?"cursor: none;":""}),(function(e){return e.zIndex?"z-index: ".concat(e.zIndex,";"):""})),$a=fn.b.div(It||(It=Object(On.a)(["\n    position: absolute;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    pointer-events: all;\n\n    transition: opacity 200ms;\n    opacity: ",";\n"])),(function(e){return e.isVisible?1:0})),Za=fn.b.div(Yt||(Yt=Object(On.a)(["\n    position: absolute;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    pointer-events: none;\n\n    height: 30%;\n\n    background: linear-gradient(0deg, rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.1) 70%, rgba(0, 0, 0, 0));\n\n    transition: opacity 200ms;\n    opacity: ",";\n"])),(function(e){return e.isVisible?1:0})),Qa=fn.b.div(Ft||(Ft=Object(On.a)(["\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n"]))),er=fn.b.div(Ct||(Ct=Object(On.a)(["\n    height: 46px;\n"]))),tr=fn.b.div(Ut||(Ut=Object(On.a)(["\n    position: absolute;\n\n    top: calc(50% - 20px);\n    right: 8px;\n\n    width: 40px;\n    height: 40px;\n\n    z-index: 10;\n"]))),nr=Object(o.b)((function(e,t){var n=t.id;return{isPlaying:n?H(n)(e):p(e),isFullscreen:ae(e),controlsMode:re(e)}}),{playerStartPlaying:ye,playerStopPlaying:ge,masterPlayerStartPlaying:Le,masterPlayerStopPlaying:we,changeFocusedPlayerId:function(e){return{type:te.d,payload:{focusedPlayerId:e}}}})((function(e){var t=e.id,n=e.width,r=e.height,i=e.isPlaying,c=e.isFullscreen,o=e.controlsMode,d=e.playerStartPlaying,l=e.playerStopPlaying,u=e.masterPlayerStartPlaying,j=e.masterPlayerStopPlaying,O=e.changeFocusedPlayerId,f=Object(a.useRef)(null),p=Object(a.useState)(!1),h=Object(s.a)(p,2),y=h[0],g=h[1],E=Object(a.useState)(!1),x=Object(s.a)(E,2),v=x[0],P=x[1],m=Object(a.useState)(!0),S=Object(s.a)(m,2),A=S[0],_=S[1],D=Object(a.useCallback)((function(){f.current&&window.clearTimeout(f.current),f.current=window.setTimeout((function(){i&&_(!1),f.current=null}),3e3)}),[i]);Object(a.useEffect)((function(){D()}),[i,D]),Object(a.useEffect)((function(){!t||t&&o===b.ControlsMode.Individual?_(!i||v):_(!1)}),[i,v,o,t]);var R=!t,T=R&&c||!R,L={isBlockingPointerEvents:R&&o===b.ControlsMode.Grouped||!R,isCursorHidden:!A,zIndex:R?3:void 0,onMouseEnter:function(){P(!0),O(t||null)},onMouseLeave:function(){P(!1),O(null)},onMouseMove:function(){v&&_(!0),D()}};return y?Object(Pn.jsx)(tr,{children:Object(Pn.jsx)(Tn.a,{title:"Show controls overlay",children:Object(Pn.jsx)(Ln.a,{size:"small",onClick:function(){return g(!1)},children:Object(Pn.jsx)(wn.a,{fontSize:"small"})})})}):Object(Pn.jsxs)(Pn.Fragment,{children:[Object(Pn.jsxs)(Ja,Object(Y.a)(Object(Y.a)({},L),{},{children:[Object(Pn.jsx)(Za,{isVisible:A&&T}),Object(Pn.jsx)(Qa,{onClick:function(){i?t?l(t):j():(D(),t?d(t):u())}}),Object(Pn.jsx)($a,{isVisible:A||!T,children:t?Object(Pn.jsx)(Pa,{id:t,onHide:function(){return g(!0)},playerWidth:n,playerHeight:r}):Object(Pn.jsx)(qa,{isVisible:A||!T,playerWidth:n,playerHeight:r})})]})),R&&!c?Object(Pn.jsx)(er,{}):null]})})),ar=n(102),rr=n.n(ar),ir=fn.b.div(Gt||(Gt=Object(On.a)(["\n    position: relative;\n\n    width: ","px;\n    height: ","px;\n\n    ","\n"])),(function(e){return e.width}),(function(e){return e.height}),(function(e){return e.shadow?"\n        box-shadow: 4px 4px 8px rgba(0, 0, 0, 0.4);\n    ":null})),cr=fn.b.div(Nt||(Nt=Object(On.a)(["\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n"]))),or=Object(o.b)((function(e,t){var n=t.id;return{isPlaying:H(n)(e),isMasterBuffering:h(e),volume:q(n)(e),masterVolume:m(e),isPlayerMuted:J(n)(e),isMasterMuted:S(e),pendingSeeks:$(n)(e)}}),{initializePlayer:function(e){return{type:F.c,payload:{id:e}}},playerReady:function(e){return{type:F.j,payload:{id:e}}},playerStartPlaying:ye,playerStopPlaying:ge,playerStartBuffering:Ee,playerStopBuffering:function(e){return{type:F.m,payload:{id:e}}},playerEndVideo:xe,playerUpdateDuration:function(e,t){var n=t.durationSeconds;return{type:F.b,payload:{id:e,durationSeconds:n}}},playerUpdateProgress:function(e,t){return{type:F.i,payload:Object(Y.a)({id:e},t)}},playerPopPendingSeek:function(e){return{type:F.f,payload:{id:e}}}})((function(e){var t=e.id,n=e.video,r=e.width,i=e.height,c=e.shadow,o=e.isPlaying,d=e.isMasterBuffering,l=e.volume,u=e.masterVolume,s=e.isPlayerMuted,b=e.isMasterMuted,j=e.pendingSeeks,O=e.initializePlayer,f=e.playerReady,p=e.playerStartPlaying,h=e.playerStopPlaying,y=e.playerStartBuffering,g=e.playerStopBuffering,E=e.playerEndVideo,x=e.playerUpdateDuration,v=e.playerUpdateProgress,P=e.playerPopPendingSeek,m=Object(a.useRef)(null);Object(a.useEffect)((function(){O(t)}),[t,O]),Object(a.useEffect)((function(){var e=m.current;j.length>0&&e&&(e.seekTo(j[0],"seconds"),y(t),P(t))}),[t,j,y,P]);var S=s||b,A={url:n.url,ref:m,controls:!1,width:r,height:i,volume:S?0:l*u,playing:o&&!d,onReady:function(){f(t)},onPlay:function(){p(t)},onPause:function(){d||h(t)},onBuffer:function(){return y(t)},onBufferEnd:function(){return g(t)},onEnded:function(){return E(t)},onDuration:function(e){return x(t,{durationSeconds:e})},onProgress:function(e){var n=e.played,a=e.loaded,r=e.playedSeconds,i=e.loadedSeconds;v(t,{playedSeconds:r,playedFraction:n,loadedSeconds:i,loadedFraction:a}),i<r&&y(t),i>=r&&g(t)},config:{youtube:{playerVars:{disablekb:1}}}};return Object(Pn.jsxs)(ir,{width:r,height:i,shadow:c,children:[Object(Pn.jsx)(cr,{children:Object(Pn.jsx)(rr.a,Object(Y.a)({},A))}),Object(Pn.jsx)(nr,{id:t,width:r,height:i})]})})),dr=fn.b.div(Ht||(Ht=Object(On.a)(["\n    position: relative;\n\n    width: 100%;\n    flex-grow: 1;\n\n    overflow: hidden;\n"]))),lr=fn.b.div(Vt||(Vt=Object(On.a)(["\n    position: absolute;\n    top: ","px;\n    left: ","px;\n    width: ","px;\n    height: ","px;\n\n    padding-left: ","px;\n    padding-right: ","px;\n    padding-top: ","px;\n    padding-bottom: ","px;\n\n    ","\n\n    transition: 300ms;\n"])),(function(e){return e.top}),(function(e){return e.left}),(function(e){return e.width}),(function(e){return e.height}),(function(e){return e.padding}),(function(e){return e.padding}),(function(e){return e.padding/16*9}),(function(e){return e.padding/16*9}),(function(e){return e.zIndex?"z-index: ".concat(e.zIndex,";"):""})),ur=fn.b.div(Bt||(Bt=Object(On.a)(["\n    position: absolute;\n    top: ","%;\n    left: 0;\n    right: 0;\n    height: 10px;\n\n    opacity: 0;\n    transition: opacity 200ms;\n\n    &:hover {\n        opacity: 1;\n    }\n\n    cursor: ns-resize;\n    z-index: 1;\n"])),(function(e){return 100*e.heightFraction})),sr=fn.b.div(zt||(zt=Object(On.a)(["\n    position: absolute;\n    top: 3.5px;\n    left: 16px;\n    right: 16px;\n    height: 0;\n\n    border-top: 3px dashed rgba(255, 255, 255, 0.3);\n"]))),br=fn.b.div(Wt||(Wt=Object(On.a)(["\n    position: absolute;\n    top: ","px;\n    left: ","px;\n\n    width: 10px;\n    height: ","px;\n\n    opacity: 0;\n    transition: opacity 200ms;\n\n    &:hover {\n        opacity: 1;\n    }\n\n    cursor: ew-resize;\n    z-index: 3;\n"])),(function(e){return e.top}),(function(e){return e.left}),(function(e){return e.height})),jr=fn.b.div(Kt||(Kt=Object(On.a)(["\n    position: absolute;\n    top: 4px;\n    left: 2px;\n    bottom: 4px;\n    width: 0;\n\n    border-left: 4px dashed ",";\n"])),(function(e){return e.color})),Or=Object(o.b)(Object(j.b)({layout:ie,videos:function(e){return e.videos},isFullscreen:ae,mainPlayerIds:ce,secondaryPlayerIds:oe}))((function(e){var t=e.padding,n=void 0===t?8:t,r=e.minPlayerHeight,i=void 0===r?150:r,c=e.layout,o=e.videos,d=e.isFullscreen,l=e.mainPlayerIds,u=e.secondaryPlayerIds,j=Object(an.a)(),O=Object(a.useRef)(null),f=Object(a.useState)({}),p=Object(s.a)(f,2),h=p[0],y=p[1],g=Object(a.useState)(!1),E=Object(s.a)(g,2),x=E[0],v=E[1],P=Object(a.useState)(.75),m=Object(s.a)(P,2),S=m[0],A=m[1],_=Object(a.useState)(.3),D=Object(s.a)(_,2),R=D[0],T=D[1],L=Object(a.useState)({rows:0,cols:0}),w=Object(s.a)(L,2),k=w[0],F=w[1],C=Object(a.useCallback)((function(){var e=O.current;if(e){var t=e.getBoundingClientRect(),n=t.width,a=t.height,r=a*S,i=a*(1-S)-10,c=Yn({containerWidth:n,containerHeight:r,numberOfPlayers:l.length}),o=Yn({containerWidth:n,containerHeight:i,numberOfPlayers:u.length}),d=Cn(Object(Y.a)(Object(Y.a)({},c),{},{containerWidth:n,containerHeight:r,numberOfPlayers:l.length})),s=Cn(Object(Y.a)(Object(Y.a)({},o),{},{containerWidth:n,containerHeight:i,numberOfPlayers:u.length})).map((function(e){return Object(Y.a)(Object(Y.a)({},e),{},{top:e.top+r+10})})),b=l.reduce((function(e,t,n){return Object(Y.a)(Object(Y.a)({},e),{},Object(I.a)({},t,d[n]))}),{}),j=u.reduce((function(e,t,n){return Object(Y.a)(Object(Y.a)({},e),{},Object(I.a)({},t,s[n]))}),{});y(Object(Y.a)(Object(Y.a)({},b),j))}}),[l,u,S]),U=Object(a.useCallback)((function(){0===l.length&&y({});var e=O.current;if(e){var t=e.getBoundingClientRect(),a=t.width,r=t.height,c=Yn({containerWidth:a,containerHeight:r,numberOfPlayers:1}),o=Cn(Object(Y.a)(Object(Y.a)({},c),{},{containerWidth:a,containerHeight:r,numberOfPlayers:1}))[0],d=o.width*R,s=function(e){var t=e.lineWidth,n=e.minPlayerHeight,a=e.containerHeight,r=e.numberOfPlayers,i=n/9*16,c=t/r,o=c/16*9;if(o<n){var d=Math.floor(t/i),l=Math.ceil(r/d);if(l*n<a)return{positions:Cn({playerWidth:i,playerHeight:n,containerWidth:t,containerHeight:l*n,numberOfPlayers:r,alignToRight:!0}),rows:l,cols:d};var u=Yn({containerWidth:t,containerHeight:a,numberOfPlayers:r}),s=u.playerWidth,b=u.playerHeight,j=Math.floor(t/s),O=Math.ceil(r/j);return{positions:Cn({playerWidth:s,playerHeight:b,containerWidth:t,containerHeight:Math.min(a,O*b),numberOfPlayers:r,alignToRight:!0}),rows:O,cols:j}}return{positions:Array.from({length:r}).map((function(e,t){return{top:0,left:t*c,width:c,height:o}})),rows:1,cols:r}}({lineWidth:d,minPlayerHeight:i,containerHeight:c.playerHeight-2*n-40,numberOfPlayers:u.length}),b=s.positions,j=s.rows,f=s.cols,p=b.map((function(e){return Object(Y.a)(Object(Y.a)({},e),{},{top:e.top+o.top+n,left:e.left+(o.width-d)+o.left-n})})),h=u.reduce((function(e,t,n){return Object(Y.a)(Object(Y.a)({},e),{},Object(I.a)({},t,p[n]))}),{});F({rows:j,cols:f}),y(Object(Y.a)(Object(I.a)({},l[0],o),h))}}),[n,l,u,i,R]),G=Object(a.useCallback)((function(){var e=O.current;if(e){var t=e.getBoundingClientRect(),n=t.width,a=t.height,r=Yn({containerWidth:n,containerHeight:a,numberOfPlayers:Object.keys(o).length}),i=Cn(Object(Y.a)(Object(Y.a)({},r),{},{containerWidth:n,containerHeight:a,numberOfPlayers:Object.keys(o).length})),c=[].concat(Object(M.a)(l),Object(M.a)(u)).reduce((function(e,t,n){return Object(Y.a)(Object(Y.a)({},e),{},Object(I.a)({},t,i[n]))}),{});y(c)}}),[o,l,u]);Object(a.useEffect)((function(){switch(c){case b.Layout.Focused:C();break;case b.Layout.Overlay:U();break;case b.Layout.Grid:G()}}),[O,c,o,d,C,U,G]);var N=Object(a.useCallback)((function(e){return h[e]||{top:-1e5,left:-1e5,width:0,height:0}}),[h]),H=Object(a.useCallback)((function(){var e=k.cols;if(l.length>0&&u.length>0){var t=N(l[0]).width,n=e*N(u[0]).width;if(t>0&&n>0)n/t<=1&&T(n/t)}}),[N,l,u,k]);Object(a.useEffect)((function(){x||H()}),[k,x,H]);var V=Object(a.useCallback)((function(e){var t=O.current;if(t&&x){if(c===b.Layout.Focused){var n=e.clientY,a=t.getBoundingClientRect(),r=a.height,o=n-a.y,d=Math.max(i,Math.min(r-i,o));A(d/r)}if(c===b.Layout.Overlay&&l.length>0){var u=e.clientX,s=N(l[0]),j=s.left,f=s.width,p=i/9*16,h=u-j,y=Math.max(0,Math.min(f-p,h));T(1-y/f)}}}),[N,c,l,i,x]),B=function(){v(!0)},z=Object(a.useCallback)((function(){c===b.Layout.Overlay&&H(),v(!1)}),[c,H]);Object(a.useEffect)((function(){return x&&(window.addEventListener("mousemove",V),window.addEventListener("mouseup",z)),function(){window.removeEventListener("mousemove",V),window.removeEventListener("mouseup",z)}}),[x,V,z]);var W={heightFraction:S,onMouseDown:B,onMouseUp:z},K=Object(Y.a)(Object(Y.a)({},function(){var e=O.current;if(0===u.length||0===l.length||!e)return{top:-1e4,left:-1e4,height:1e4};var t=N(l[0]),a=t.top,r=t.left,i=t.width,c=N(u[0]).height,o=k.rows;return{top:a+n,left:r+i*(1-R)-n,height:c*o}}()),{},{onMouseDown:B,onMouseUp:z});return Object(Pn.jsxs)(dr,{ref:O,children:[c===b.Layout.Focused?Object(Pn.jsx)(ur,Object(Y.a)(Object(Y.a)({},W),{},{children:Object(Pn.jsx)(sr,{})})):null,c===b.Layout.Overlay?Object(Pn.jsx)(br,Object(Y.a)(Object(Y.a)({},K),{},{children:Object(Pn.jsx)(jr,{color:j.palette.primary.main})})):null,Object.entries(o).map((function(e){var t=Object(s.a)(e,2),a=t[0],r=t[1],i=N(a),o=c===b.Layout.Overlay&&-1!==u.indexOf(a),d=Object(Y.a)({key:a,padding:n,zIndex:o?2:void 0},i),l={id:a,video:r,width:i.width-2*n,height:i.height-2*n/16*9,shadow:o};return Object(Pn.jsx)(lr,Object(Y.a)(Object(Y.a)({},d),{},{children:Object(Pn.jsx)(or,Object(Y.a)({},l))}))}))]})})),fr=Object(fn.a)(Xt||(Xt=Object(On.a)(["\n    * {\n        margin: 0;\n        padding: 0;\n        outline: none;\n    }\n\n    html {\n        position: relative;\n        width: 100vw;\n        height: 100vh;\n    }\n\n    body {\n        position: absolute;\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 0;\n        -webkit-tap-highlight-color:  rgba(255, 255, 255, 0); \n    }\n\n    #root {\n        width: 100%;\n        height: 100%;\n        background-color: black;\n    }\n"]))),pr=fn.b.div(qt||(qt=Object(On.a)(["\n    position: relative;\n    width: 100%;\n    height: 100%;\n\n    display: flex;\n    flex-direction: column;\n"]))),hr=Object($t.a)({palette:{type:"dark",primary:{main:en.a[700],light:en.a.A700}}}),yr=function(){var e=Object(a.useState)(!0),t=Object(s.a)(e,2),n=t[0],r=t[1];return Object(Pn.jsxs)(Zt.a,{theme:hr,children:[Object(Pn.jsx)(fr,{}),Object(Pn.jsx)(Qt.a,{}),Object(Pn.jsx)(Rn,{isActive:!n}),Object(Pn.jsxs)(pr,{children:[Object(Pn.jsx)(Dn,{onAddVideosClick:function(){return r(!0)}}),Object(Pn.jsx)(Or,{}),Object(Pn.jsx)(nr,{})]}),Object(Pn.jsx)(mn,{open:n,onClose:function(){return r(!1)}})]})};c.a.render(Object(Pn.jsx)(r.a.StrictMode,{children:Object(Pn.jsx)(o.a,{store:$e,children:Object(Pn.jsx)(yr,{})})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/multiview",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/multiview","/service-worker.js");Ze?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Qe(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):Qe(t,e)}))}}(),Jt()},16:function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"j",(function(){return r})),n.d(t,"l",(function(){return i})),n.d(t,"n",(function(){return c})),n.d(t,"k",(function(){return o})),n.d(t,"m",(function(){return d})),n.d(t,"p",(function(){return l})),n.d(t,"q",(function(){return u})),n.d(t,"b",(function(){return s})),n.d(t,"h",(function(){return b})),n.d(t,"d",(function(){return j})),n.d(t,"i",(function(){return O})),n.d(t,"r",(function(){return f})),n.d(t,"e",(function(){return p})),n.d(t,"o",(function(){return h})),n.d(t,"g",(function(){return y})),n.d(t,"f",(function(){return g})),n.d(t,"a",(function(){return E}));var a="PLAYER_INITIALIZED",r="PLAYER_READY",i="PLAYER_STARTED_PLAYING",c="PLAYER_STOPPED_PLAYING",o="PLAYER_STARTED_BUFFERING",d="PLAYER_STOPPED_BUFFERING",l="PLAYER_VIDEO_ENDED",u="PLAYER_VIDEO_RESTARTED",s="PLAYER_DURATION_UPDATED",b="PLAYER_PLAYED_TIME_UPDATED",j="PLAYER_LOADED_TIME_UPDATED",O="PLAYER_PROGRESS_UPDATED",f="PLAYER_VOLUME_UPDATED",p="PLAYER_MUTED",h="PLAYER_UNMUTED",y="PLAYER_PENDING_SEEK_PUSHED",g="PLAYER_PENDING_SEEK_POPPED",E="PLAYER_DELETED"},18:function(e,t,n){"use strict";n.d(t,"j",(function(){return a})),n.d(t,"e",(function(){return r})),n.d(t,"l",(function(){return i})),n.d(t,"n",(function(){return c})),n.d(t,"k",(function(){return o})),n.d(t,"m",(function(){return d})),n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return u})),n.d(t,"h",(function(){return s})),n.d(t,"c",(function(){return b})),n.d(t,"i",(function(){return j})),n.d(t,"p",(function(){return O})),n.d(t,"d",(function(){return f})),n.d(t,"o",(function(){return p})),n.d(t,"g",(function(){return h})),n.d(t,"f",(function(){return y}));var a="MASTER_PLAYER_READY",r="MASTER_PLAYER_NOT_READY",i="MASTER_PLAYER_STARTED_PLAYING",c="MASTER_PLAYER_STOPPED_PLAYING",o="MASTER_PLAYER_STARTED_BUFFERING",d="MASTER_PLAYER_STOPPED_BUFFERING",l="MASTER_PLAYER_ENDED",u="MASTER_PLAYER_DURATION_UPDATED",s="MASTER_PLAYER_PLAYED_TIME_UPDATED",b="MASTER_PLAYER_LOADED_TIME_UPDATED",j="MASTER_PLAYER_PROGRESS_UPDATED",O="MASTER_PLAYER_VOLUME_UPDATED",f="MASTER_PLAYER_MUTED",p="MASTER_PLAYER_UNMUTED",h="MASTER_PLAYER_PENDING_SEEK_SET",y="MASTER_PLAYER_PENDING_SEEK_REMOVED"},21:function(e,t,n){"use strict";var a,r;n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r})),n.d(t,"e",(function(){return i})),n.d(t,"f",(function(){return c})),n.d(t,"c",(function(){return o})),n.d(t,"g",(function(){return d})),n.d(t,"d",(function(){return l})),n.d(t,"i",(function(){return u})),n.d(t,"j",(function(){return s})),n.d(t,"h",(function(){return b})),function(e){e.Grouped="Grouped",e.Individual="Individual"}(a||(a={})),function(e){e.Overlay="Overlay",e.Focused="Focused",e.Grid="Grid"}(r||(r={}));var i="SETTINGS_FULLSCREEN_ENTERED",c="SETTINGS_FULLSCREEN_EXITED",o="SETTINGS_CONTROLS_MODE_CHANGED",d="SETTINGS_LAYOUT_CHANGED",l="SETTINGS_FOCUSED_PLAYER_ID_CHANGED",u="SETTINGS_MAIN_PLAYER_IDS_CHANGED",s="SETTINGS_MAIN_SECONDARY_IDS_CHANGED",b="SETTINGS_MAIN_AND_SECONDARY_PLAYER_IDS_CHANGED"},41:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return i}));var a="OFFSETS_REFERENCE_PLAYER_ID_CHANGED",r="PLAYER_OFFSET_CHANGED",i="PLAYER_OFFSET_REMOVED"},43:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r}));var a="VIDEOS_ADDED",r="VIDEO_DELETED"},86:function(e,t){}},[[149,1,2]]]);
//# sourceMappingURL=main.7944295f.chunk.js.map
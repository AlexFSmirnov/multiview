(this.webpackJsonpmultiview=this.webpackJsonpmultiview||[]).push([[0],{12:function(e,t,n){"use strict";var a=n(86);n.o(a,"ControlsMode")&&n.d(t,"ControlsMode",(function(){return a.ControlsMode})),n.o(a,"Layout")&&n.d(t,"Layout",(function(){return a.Layout})),n.o(a,"MASTER_PLAYER_PLAYED_TIME_UPDATED")&&n.d(t,"MASTER_PLAYER_PLAYED_TIME_UPDATED",(function(){return a.MASTER_PLAYER_PLAYED_TIME_UPDATED})),n.o(a,"PLAYER_LOADED_TIME_UPDATED")&&n.d(t,"PLAYER_LOADED_TIME_UPDATED",(function(){return a.PLAYER_LOADED_TIME_UPDATED})),n.o(a,"PLAYER_OFFSET_CHANGED")&&n.d(t,"PLAYER_OFFSET_CHANGED",(function(){return a.PLAYER_OFFSET_CHANGED})),n.o(a,"PLAYER_PLAYED_TIME_UPDATED")&&n.d(t,"PLAYER_PLAYED_TIME_UPDATED",(function(){return a.PLAYER_PLAYED_TIME_UPDATED})),n.o(a,"PLAYER_PROGRESS_UPDATED")&&n.d(t,"PLAYER_PROGRESS_UPDATED",(function(){return a.PLAYER_PROGRESS_UPDATED})),n.o(a,"PLAYER_READY")&&n.d(t,"PLAYER_READY",(function(){return a.PLAYER_READY})),n.o(a,"PLAYER_STARTED_BUFFERING")&&n.d(t,"PLAYER_STARTED_BUFFERING",(function(){return a.PLAYER_STARTED_BUFFERING})),n.o(a,"PLAYER_STARTED_PLAYING")&&n.d(t,"PLAYER_STARTED_PLAYING",(function(){return a.PLAYER_STARTED_PLAYING})),n.o(a,"PLAYER_STOPPED_BUFFERING")&&n.d(t,"PLAYER_STOPPED_BUFFERING",(function(){return a.PLAYER_STOPPED_BUFFERING})),n.o(a,"PLAYER_STOPPED_PLAYING")&&n.d(t,"PLAYER_STOPPED_PLAYING",(function(){return a.PLAYER_STOPPED_PLAYING})),n.o(a,"SETTINGS_LAYOUT_CHANGED")&&n.d(t,"SETTINGS_LAYOUT_CHANGED",(function(){return a.SETTINGS_LAYOUT_CHANGED})),n.o(a,"VIDEOS_ADDED")&&n.d(t,"VIDEOS_ADDED",(function(){return a.VIDEOS_ADDED})),n.o(a,"VIDEO_REMOVED")&&n.d(t,"VIDEO_REMOVED",(function(){return a.VIDEO_REMOVED}));var r=n(18);n.d(t,"MASTER_PLAYER_PLAYED_TIME_UPDATED",(function(){return r.h}));var i=n(42);n.d(t,"PLAYER_OFFSET_CHANGED",(function(){return i.b}));var c=n(16);n.d(t,"PLAYER_LOADED_TIME_UPDATED",(function(){return c.c})),n.d(t,"PLAYER_PLAYED_TIME_UPDATED",(function(){return c.g})),n.d(t,"PLAYER_PROGRESS_UPDATED",(function(){return c.h})),n.d(t,"PLAYER_READY",(function(){return c.i})),n.d(t,"PLAYER_STARTED_BUFFERING",(function(){return c.j})),n.d(t,"PLAYER_STARTED_PLAYING",(function(){return c.k})),n.d(t,"PLAYER_STOPPED_BUFFERING",(function(){return c.l})),n.d(t,"PLAYER_STOPPED_PLAYING",(function(){return c.m}));var o=n(21);n.d(t,"ControlsMode",(function(){return o.a})),n.d(t,"Layout",(function(){return o.b})),n.d(t,"SETTINGS_LAYOUT_CHANGED",(function(){return o.g}));var l=n(43);n.d(t,"VIDEOS_ADDED",(function(){return l.a})),n.d(t,"VIDEO_REMOVED",(function(){return l.b}))},149:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(19),c=n.n(i),o=n(25),l=n(91),d=n(41),u=n(92),s=n(13),b=n(12),j=n(8),O=n(11),f=function(e){return e.masterPlayerInfo},p=Object(j.a)(f,Object(O.getOr)(!1,"isPlaying")),h=Object(j.a)(f,Object(O.getOr)(!1,"isBuffering")),y=Object(j.a)(f,Object(O.getOr)(0,"durationSeconds")),g=Object(j.a)(f,(function(e){return{playedSeconds:e.playedSeconds,playedFraction:e.playedFraction}})),E=Object(j.a)(g,Object(O.getOr)(0,"playedSeconds")),v=Object(j.a)(g,Object(O.getOr)(0,"playedFraction")),x=Object(j.a)(f,(function(e){return{loadedSeconds:e.loadedSeconds,loadedFraction:e.loadedFraction}})),P=(Object(j.a)(x,Object(O.getOr)(0,"loadedSeconds")),Object(j.a)(x,Object(O.getOr)(0,"loadedFraction"))),m=Object(j.a)(f,Object(O.getOr)(1,"volume")),S=Object(j.a)(f,Object(O.getOr)(!1,"isMuted")),A=Object(j.a)(f,Object(O.getOr)(null,"pendingSeek")),_=n(26),D=n.n(_),R=function(e){return e.offsets},T=Object(j.a)(R,Object(O.get)("referencePlayerId")),L=Object(j.a)(R,Object(O.get)("offsets")),w=D()((function(e){return Object(j.a)(L,Object(O.getOr)(0,e))})),M=n(24),k=n(53),I=n(20),Y=n(3),F=n(16),C={},U={isReady:!1,isPlaying:!1,isBuffering:!1,hasEnded:!1,durationSeconds:0,playedSeconds:0,playedFraction:0,loadedSeconds:0,loadedFraction:0,volume:1,isMuted:!1,pendingSeeks:[]},G=function(e){return e.playersInfo},N=D()((function(e){return Object(j.a)(G,Object(O.getOr)(U,e))})),H=D()((function(e){return Object(j.a)(N(e),Object(O.getOr)(!1,"isPlaying"))})),V=D()((function(e){return Object(j.a)(N(e),Object(O.getOr)(!1,"isBuffering"))})),B=D()((function(e){return Object(j.a)(N(e),Object(O.getOr)(0,"durationSeconds"))})),z=D()((function(e){return Object(j.a)(N(e),(function(e){return{playedSeconds:e.playedSeconds,playedFraction:e.playedFraction}}))})),W=(D()((function(e){return Object(j.a)(z(e),Object(O.getOr)(0,"playedSeconds"))})),D()((function(e){return Object(j.a)(z(e),Object(O.getOr)(0,"playedFraction"))}))),K=D()((function(e){return Object(j.a)(N(e),(function(e){return{loadedSeconds:e.loadedSeconds,loadedFraction:e.loadedFraction}}))})),X=(D()((function(e){return Object(j.a)(K(e),Object(O.getOr)(0,"loadedSeconds"))})),D()((function(e){return Object(j.a)(K(e),Object(O.getOr)(0,"loadedFraction"))}))),q=(D()((function(e){return Object(j.a)(N(e),Object(O.getOr)(!1,"hasEnded"))})),D()((function(e){return Object(j.a)(N(e),Object(O.getOr)(1,"volume"))}))),J=D()((function(e){return Object(j.a)(N(e),Object(O.getOr)(!1,"isMuted"))})),$=D()((function(e){return Object(j.a)(N(e),Object(O.getOr)([],"pendingSeeks"))})),Z=Object(j.a)(G,Object(O.compose)(Object(O.get)("id"),Object(O.reduce)((function(e,t){var n=Object(s.a)(t,2),a=n[0],r=n[1];return r.durationSeconds>e.duration?{duration:r.durationSeconds,id:a}:e}),{duration:0,id:null}),O.entries)),Q=(Object(j.a)(G,Z,(function(e,t){return t?Object(O.get)(t,e).durationSeconds:0})),D()((function(e){return Object(j.a)(B(e),w(e),E,(function(e,t,n){return-t<=n&&n<=e-t}))}))),ee=function(e){return Object.entries(G(e)).every((function(t){var n=Object(s.a)(t,2),a=n[0],r=n[1];return!Q(a)(e)||r.isPlaying&&Q(a)(e)}))},te=n(21),ne=function(e){return e.settings},ae=Object(j.a)(ne,Object(O.get)("isFullscreen")),re=Object(j.a)(ne,Object(O.get)("controlsMode")),ie=Object(j.a)(ne,Object(O.get)("layout")),ce=Object(j.a)(ne,Object(O.get)("mainPlayerIds")),oe=Object(j.a)(ne,Object(O.get)("secondaryPlayerIds")),le=D()((function(e){return Object(j.a)(ce,Object(O.contains)(e))})),de=(D()((function(e){return Object(j.a)(oe,Object(O.contains)(e))})),D()((function(e){return Object(j.a)(ce,oe,ie,(function(t,n,a){var r=t.indexOf(e),i=n.indexOf(e);return 0!==r&&(0!==i||a!==te.b.Overlay)}))}))),ue=D()((function(e){return Object(j.a)(ce,oe,ie,(function(t,n,a){var r=t.indexOf(e);return n.indexOf(e)!==n.length-1&&(r!==t.length-1||a!==te.b.Overlay)}))})),se=Object(j.a)(ne,Object(O.get)("focusedPlayerId")),be=Object(j.a)(se,G,f,(function(e,t,n){return e?t[e]:n})),je=Object(j.a)(be,Object(O.getOr)(!1,"isPlaying")),Oe=Object(j.a)(be,Object(O.getOr)(0,"durationSeconds")),fe=Object(j.a)(be,Object(O.getOr)(0,"playedSeconds")),pe=Object(j.a)(be,Object(O.getOr)(1,"volume")),he=Object(j.a)(be,Object(O.getOr)(!1,"isMuted")),ye=function(e){return{type:F.k,payload:{id:e}}},ge=function(e){return{type:F.m,payload:{id:e}}},Ee=function(e){return{type:F.j,payload:{id:e}}},ve=function(e){return{type:F.o,payload:{id:e}}},xe=function(e,t){var n=t.volume;return{type:F.q,payload:{id:e,volume:n}}},Pe=function(e){return{type:F.d,payload:{id:e}}},me=function(e){return{type:F.n,payload:{id:e}}},Se=function(e,t){var n=t.seekToSeconds;return{type:F.f,payload:{id:e,seekToSeconds:n}}},Ae=n(18),_e=function(e){return{type:Ae.p,payload:{volume:e}}},De=function(){return{type:Ae.d}},Re=function(){return{type:Ae.o}},Te=function(){return function(e,t){var n=t(),a=f(n),r=a.isReady,i=a.isBuffering;r&&!i&&Object.keys(G(n)).forEach((function(t){Q(t)(n)&&e(ye(t))}))}},Le=function(){return function(e,t){var n=t();Object.keys(n.playersInfo).forEach((function(t){return e(ge(t))}))}},we=function(e){return function(t,n){var a,r=n();t((a=e,{type:Ae.g,payload:{seekToSeconds:a}})),Object.entries(G(r)).forEach((function(n){var a,i=Object(s.a)(n,2),c=i[0],o=i[1],l=o.playedSeconds,d=o.durationSeconds,u=w(c)(r);if(-u>e)l>0&&t(Se(c,{seekToSeconds:0})),t(ge(c));else if(e>=d-u)l<d&&t(Se(c,{seekToSeconds:d})),t(ge(c)),t(ve(c));else{var b=e+u;t((a=c,{type:F.p,payload:{id:a}})),t(Se(c,{seekToSeconds:b})),f(r).isPlaying&&t(ye(c))}}))}},Me=n(42),ke=function(e){return{type:Me.a,payload:{referenceId:e}}},Ie=function(e,t){var n=t.offset;return{type:Me.b,payload:{id:e,offset:n}}},Ye=function(e){return{type:te.c,payload:{controlsMode:e}}},Fe=function(e){return{type:te.h,payload:e}},Ce=function(){return function(e){e({type:te.e}),e(Ye(te.a.Grouped))}},Ue=function(){return function(e){e({type:te.f}),e(Ye(te.a.Individual))}},Ge=function(e){return function(t,n){var a=n(),r=ce(a),i=oe(a);t(Fe({mainPlayerIds:[].concat(Object(M.a)(r),[e]),secondaryPlayerIds:i.filter((function(t){return t!==e}))}))}},Ne=function(e){return function(t,n){var a=n(),r=ce(a),i=oe(a);t(Fe({mainPlayerIds:r.filter((function(t){return t!==e})),secondaryPlayerIds:[].concat(Object(M.a)(i),[e])}))}},He=n(43),Ve=function(e,t,n){return Object.entries(G(t)).every((function(t){var a=Object(s.a)(t,2),r=a[0],i=a[1];return r===n||e(i)}))},Be={isReady:!1,isPlaying:!1,isBuffering:!1,hasEnded:!1,durationSeconds:0,playedSeconds:0,playedFraction:0,loadedSeconds:0,loadedFraction:0,volume:1,isMuted:!1,pendingSeek:null},ze={referencePlayerId:null,offsets:{}},We={isFullscreen:!1,controlsMode:te.a.Individual,layout:te.b.Overlay,focusedPlayerId:null,mainPlayerIds:[],secondaryPlayerIds:[]},Ke={},Xe=Object(d.combineReducers)({masterPlayerInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Be,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ae.j:return Object(Y.a)(Object(Y.a)({},e),{},{isReady:!0});case Ae.e:return Object(Y.a)(Object(Y.a)({},e),{},{isReady:!1});case Ae.l:return Object(Y.a)(Object(Y.a)({},e),{},{isPlaying:!0});case Ae.n:return Object(Y.a)(Object(Y.a)({},e),{},{isPlaying:!1});case Ae.k:return Object(Y.a)(Object(Y.a)({},e),{},{isBuffering:!0});case Ae.m:return Object(Y.a)(Object(Y.a)({},e),{},{isBuffering:!1});case Ae.b:return Object(Y.a)(Object(Y.a)({},e),{},{hasEnded:!0});case Ae.p:return Object(Y.a)(Object(Y.a)({},e),{},{isMuted:!1},t.payload);case Ae.d:return Object(Y.a)(Object(Y.a)({},e),{},{isMuted:!0});case Ae.o:return Object(Y.a)(Object(Y.a)({},e),{},{isMuted:!1});case Ae.g:return Object(Y.a)(Object(Y.a)({},e),{},{pendingSeek:t.payload.seekToSeconds});case Ae.f:return Object(Y.a)(Object(Y.a)({},e),{},{pendingSeek:null});case Ae.a:case Ae.h:case Ae.c:case Ae.i:return Object(Y.a)(Object(Y.a)({},e),t.payload);default:return e}},offsets:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ze,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Me.a:return Object(Y.a)(Object(Y.a)({},e),{},{referencePlayerId:t.payload.referenceId});case Me.b:var n=t.payload,a=n.id,r=n.offset;return Object(Y.a)(Object(Y.a)({},e),{},{offsets:Object(Y.a)(Object(Y.a)({},e.offsets),{},Object(I.a)({},a,r))});default:return e}},playersInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case F.b:return Object(Y.a)(Object(Y.a)({},e),{},Object(I.a)({},t.payload.id,Object(Y.a)({},U)));case F.i:return Object(Y.a)(Object(Y.a)({},e),{},Object(I.a)({},t.payload.id,Object(Y.a)(Object(Y.a)({},e[t.payload.id]),{},{isReady:!0})));case F.k:return Object(Y.a)(Object(Y.a)({},e),{},Object(I.a)({},t.payload.id,Object(Y.a)(Object(Y.a)({},e[t.payload.id]),{},{isPlaying:!0,isBuffering:!1,hasEnded:!1})));case F.m:return Object(Y.a)(Object(Y.a)({},e),{},Object(I.a)({},t.payload.id,Object(Y.a)(Object(Y.a)({},e[t.payload.id]),{},{isPlaying:!1})));case F.j:return Object(Y.a)(Object(Y.a)({},e),{},Object(I.a)({},t.payload.id,Object(Y.a)(Object(Y.a)({},e[t.payload.id]),{},{isBuffering:!0})));case F.l:return Object(Y.a)(Object(Y.a)({},e),{},Object(I.a)({},t.payload.id,Object(Y.a)(Object(Y.a)({},e[t.payload.id]),{},{isBuffering:!1})));case F.o:return Object(Y.a)(Object(Y.a)({},e),{},Object(I.a)({},t.payload.id,Object(Y.a)(Object(Y.a)({},e[t.payload.id]),{},{hasEnded:!0,isBuffering:!1})));case F.p:return Object(Y.a)(Object(Y.a)({},e),{},Object(I.a)({},t.payload.id,Object(Y.a)(Object(Y.a)({},e[t.payload.id]),{},{hasEnded:!1})));case F.a:var n=t.payload.durationSeconds;return Object(Y.a)(Object(Y.a)({},e),{},Object(I.a)({},t.payload.id,Object(Y.a)(Object(Y.a)({},e[t.payload.id]),{},{durationSeconds:n})));case F.g:var a=t.payload,r=a.playedSeconds,i=a.playedFraction;return Object(Y.a)(Object(Y.a)({},e),{},Object(I.a)({},t.payload.id,Object(Y.a)(Object(Y.a)({},e[t.payload.id]),{},{playedSeconds:r,playedFraction:i})));case F.c:var c=t.payload,o=c.loadedSeconds,l=c.loadedFraction;return Object(Y.a)(Object(Y.a)({},e),{},Object(I.a)({},t.payload.id,Object(Y.a)(Object(Y.a)({},e[t.payload.id]),{},{loadedSeconds:o,loadedFraction:l})));case F.h:var d=t.payload,u=(d.id,Object(k.a)(d,["id"]));return Object(Y.a)(Object(Y.a)({},e),{},Object(I.a)({},t.payload.id,Object(Y.a)(Object(Y.a)({},e[t.payload.id]),u)));case F.q:var s=t.payload.volume;return Object(Y.a)(Object(Y.a)({},e),{},Object(I.a)({},t.payload.id,Object(Y.a)(Object(Y.a)({},e[t.payload.id]),{},{volume:s,isMuted:!1})));case F.d:return Object(Y.a)(Object(Y.a)({},e),{},Object(I.a)({},t.payload.id,Object(Y.a)(Object(Y.a)({},e[t.payload.id]),{},{isMuted:!0})));case F.n:return Object(Y.a)(Object(Y.a)({},e),{},Object(I.a)({},t.payload.id,Object(Y.a)(Object(Y.a)({},e[t.payload.id]),{},{isMuted:!1})));case F.f:var b=t.payload.seekToSeconds;return Object(Y.a)(Object(Y.a)({},e),{},Object(I.a)({},t.payload.id,Object(Y.a)(Object(Y.a)({},e[t.payload.id]),{},{pendingSeeks:[].concat(Object(M.a)(e[t.payload.id].pendingSeeks),[b])})));case F.e:return Object(Y.a)(Object(Y.a)({},e),{},Object(I.a)({},t.payload.id,Object(Y.a)(Object(Y.a)({},e[t.payload.id]),{},{pendingSeeks:Object(M.a)(e[t.payload.id].pendingSeeks.slice(1))})));default:return e}},settings:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:We,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case te.e:return Object(Y.a)(Object(Y.a)({},e),{},{isFullscreen:!0});case te.f:return Object(Y.a)(Object(Y.a)({},e),{},{isFullscreen:!1});case te.c:case te.g:case te.d:case te.i:case te.j:case te.h:return Object(Y.a)(Object(Y.a)({},e),t.payload);default:return e}},videos:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ke,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case He.a:return Object(Y.a)(Object(Y.a)({},e),t.payload);case He.b:return Object(O.omit)(t.payload.id,e);default:return e}}}),qe=Object(d.createStore)(Xe,Object(u.composeWithDevTools)(Object(d.applyMiddleware)(l.a,(function(e){return function(t){return function(n){var a=e.dispatch,r=e.getState,i=r();t(n);var c=r();switch(n.type){case b.PLAYER_PLAYED_TIME_UPDATED:case b.PLAYER_PROGRESS_UPDATED:var o=n.payload.id;if(null===T(c)){a(ke(o)),a(Ie(o,{offset:0}));break}if(ee(c)||null!==A(i))break;ee(i)&&!ee(c)&&Object.keys(G(c)).forEach((function(e){Q(e)(c)&&a(ye(e))})),Object.entries(G(c)).forEach((function(e){var t=Object(s.a)(e,2),n=t[0],r=t[1];Q(n)(i)&&a(Ie(n,{offset:r.playedSeconds-E(c)}))})),a((function(e,t){var n=t(),a=Object.entries(L(n)).reduce((function(e,t){var n=Object(s.a)(t,2),a=n[0],r=n[1];return r>e.maxOffset?{maxOffset:r,maxOffsetPlayerId:a}:e}),{maxOffset:-1/0,maxOffsetPlayerId:""}),r=a.maxOffset,i=a.maxOffsetPlayerId;""!==i&&Math.abs(r)>1.5&&(e(ke(i)),e(Ie(i,{offset:0})),Object.entries(L(n)).forEach((function(t){var n=Object(s.a)(t,2),a=n[0],c=n[1];a!==i&&e(Ie(a,{offset:c-r}))})))}))}}}}),(function(e){return function(t){return function(n){var a=e.dispatch,r=e.getState;t(n);var i,c=r();switch(n.type){case b.PLAYER_READY:Ve((function(e){return e.isReady}),c,n.payload.id)&&a({type:Ae.j});break;case b.PLAYER_STARTED_PLAYING:a({type:Ae.l});break;case b.PLAYER_STOPPED_PLAYING:Ve((function(e){return!e.isPlaying}),c,n.payload.id)&&a({type:Ae.n});break;case b.PLAYER_STARTED_BUFFERING:N(n.payload.id)(c).hasEnded||a({type:Ae.k});break;case b.PLAYER_STOPPED_BUFFERING:Ve((function(e){return!e.isBuffering||e.hasEnded}),c,n.payload.id)&&a({type:Ae.m});break;case b.PLAYER_PLAYED_TIME_UPDATED:case b.PLAYER_LOADED_TIME_UPDATED:case b.PLAYER_PROGRESS_UPDATED:case b.PLAYER_OFFSET_CHANGED:var o=y(c);if(n.type===b.PLAYER_OFFSET_CHANGED){var l=Object.entries(L(c)).reduce((function(e,t){var n=Object(s.a)(t,2),a=n[0],r=n[1],i=B(a)(c);return Math.max(e,i-r)}),0);Math.abs(l-o)>=1&&(o=l,a((i=l,{type:Ae.a,payload:{durationSeconds:i}})))}if(n.type===b.PLAYER_PLAYED_TIME_UPDATED||n.type===b.PLAYER_PROGRESS_UPDATED||n.type===b.PLAYER_OFFSET_CHANGED){var d=Object.entries(G(c)).reduce((function(e,t){var n=Object(s.a)(t,2),a=n[0],r=n[1],i=r.playedSeconds,o=r.hasEnded,l=w(a)(c);return o?e:Math.min(e,i-l)}),o);a(function(e){var t=e.playedSeconds,n=e.playedFraction;return{type:Ae.h,payload:{playedSeconds:t,playedFraction:n}}}({playedSeconds:d,playedFraction:d/o}))}if(n.type===b.PLAYER_LOADED_TIME_UPDATED||n.type===b.PLAYER_PROGRESS_UPDATED||n.type===b.PLAYER_OFFSET_CHANGED){var u=Object.entries(G(c)).reduce((function(e,t){var n=Object(s.a)(t,2),a=n[0],r=n[1],i=r.loadedSeconds,o=r.durationSeconds,l=r.hasEnded,d=w(a)(c);return l||i>=o-.01?e:Math.min(e,i-d)}),o);a(function(e){var t=e.loadedSeconds,n=e.loadedFraction;return{type:Ae.c,payload:{loadedSeconds:t,loadedFraction:n}}}({loadedSeconds:u,loadedFraction:u/o}))}break;case b.MASTER_PLAYER_PLAYED_TIME_UPDATED:var j=A(c),O=E(c);j&&Math.abs(O-j)<1&&a({type:Ae.f});break;case b.VIDEOS_ADDED:a({type:Ae.e})}}}}),(function(e){return function(t){return function(n){var a=e.dispatch,r=(0,e.getState)(),i=ce(r),c=oe(r);switch(n.type){case b.VIDEOS_ADDED:Object.keys(n.payload).forEach((function(e,t){0===t&&0===i.length?a(Ge(e)):a(Ne(e))}));break;case b.VIDEO_REMOVED:if(1===i.length&&i[0]===n.payload.id&&c.length>0){var o=c[0];a(Fe({mainPlayerIds:[o],secondaryPlayerIds:c.filter((function(e){return e!==o}))}));break}a(Fe({mainPlayerIds:i.filter((function(e){return e!==n.payload.id})),secondaryPlayerIds:c.filter((function(e){return e!==n.payload.id}))}));break;case b.SETTINGS_LAYOUT_CHANGED:n.payload.layout===b.Layout.Overlay&&(i.length>1&&a(Fe({mainPlayerIds:[i[0]],secondaryPlayerIds:[].concat(Object(M.a)(i.slice(1)),Object(M.a)(c))})),0===i.length&&a(Fe({mainPlayerIds:[c[0]],secondaryPlayerIds:Object(M.a)(c.slice(1))})))}t(n)}}})))),Je=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function $e(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var Ze,Qe,et,tt,nt,at,rt,it,ct,ot,lt,dt,ut,st,bt,jt,Ot,ft,pt,ht,yt,gt,Et,vt,xt,Pt,mt,St,At,_t,Dt,Rt,Tt,Lt,wt,Mt,kt,It,Yt,Ft,Ct,Ut,Gt,Nt,Ht,Vt,Bt,zt,Wt,Kt,Xt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,228)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,i=t.getLCP,c=t.getTTFB;n(e),a(e),r(e),i(e),c(e)}))},qt=n(219),Jt=n(220),$t=n(221),Zt=n(72),Qt=n(224),en=n(103),tn=n(32),nn=n(225),an=n(182),rn=n(183),cn=n(106),on=n(222),ln=n(186),dn=n(188),un=n(189),sn=n(187),bn=n(9),jn=n(10),On=jn.b.div(Ze||(Ze=Object(bn.a)(["\n    padding-top: 8px;\n"]))),fn=jn.b.div(Qe||(Qe=Object(bn.a)(["\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n\n    padding-top: 24px;\n    padding-bottom: 24px;\n"]))),pn=jn.b.div(et||(et=Object(bn.a)(["\n    flex: 1;\n    height: 1px;\n    box-shadow: inset 0 0 0 1px ",";\n"])),(function(e){return e.color})),hn=jn.b.div(tt||(tt=Object(bn.a)(["\n    padding-left: 8px;\n    padding-right: 8px;\n    color: rgba(255, 255, 255, 0.4);\n"]))),yn=jn.b.div(nt||(nt=Object(bn.a)(["\n    width: 100%;\n    height: 72px;\n\n    display: flex;\n    justify-content: center;\n    align-items: center;\n\n    border-radius: 8px;\n    border: 1px dashed rgba(255, 255, 255, 0.7);\n    color: white;\n\n    ","\n\n    cursor: pointer;\n"])),(function(e){return e.isDragActive&&"\n        border-color: ".concat(e.activeColor,";\n        color: ").concat(e.activeColor,";\n    ")})),gn=jn.b.div(at||(at=Object(bn.a)(["\n    display: flex;\n    flex-direction: column;\n    margin-top: 8px;\n"]))),En=jn.b.div(rt||(rt=Object(bn.a)(["\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n"]))),vn=n(1),xn=Object(o.b)(null,{addVideos:function(e){return{type:He.a,payload:e}}})((function(e){var t=e.open,n=e.onClose,r=e.addVideos,i=Object(tn.a)(),c=Object(a.useState)(Object(I.a)({},Object(Qt.a)(),{url:""})),o=Object(s.a)(c,2),l=o[0],d=o[1],u=Object(a.useState)({}),b=Object(s.a)(u,2),j=b[0],f=b[1],p=Object(a.useState)({}),h=Object(s.a)(p,2),y=h[0],g=h[1],E=Object(en.a)({accept:"video/*",onDropAccepted:function(e){var t=e.map((function(e){return{id:Object(Qt.a)(),name:e.name,url:URL.createObjectURL(e)}})),n=Object.fromEntries(t.map((function(e){return[e.id,{url:e.url}]}))),a=Object.fromEntries(t.map((function(e){return[e.id,e.name]})));f(Object(Y.a)(Object(Y.a)({},j),n)),g(Object(Y.a)(Object(Y.a)({},y),a))}}),v=E.getRootProps,x=E.getInputProps,P=E.isDragActive,m=Object(a.useCallback)((function(){var e=function(e){return Object.fromEntries(Object.entries(e).filter((function(e){var t=Object(s.a)(e,2);t[0];return""!==t[1].url})))};r(Object(Y.a)(Object(Y.a)({},e(l)),e(j))),n(),d(Object(I.a)({},Object(Qt.a)(),{url:""})),f({}),g({})}),[r,n,l,j]),S=Object(a.useCallback)((function(e){"Enter"===e.key&&m()}),[m]);Object(a.useEffect)((function(){return t?window.addEventListener("keypress",S):window.removeEventListener("keypress",S),function(){window.removeEventListener("keypress",S)}}),[t,S]);var A=function(e){return function(t){""!==t.target.value&&Object.keys(l).every((function(t){return t===e||""!==l[t].url}))&&(l[Object(Qt.a)()]={url:""}),d(Object(Y.a)(Object(Y.a)({},l),{},Object(I.a)({},e,{url:t.target.value})))}},_=function(e){return function(){""===l[e].url&&Object.keys(l).some((function(t){return t!==e&&""===l[t].url}))&&d(Object(O.omit)(e,l))}},D=function(e){return function(){f(Object(O.omit)(e,j)),g(Object(O.omit)(e,y))}},R=Object.keys(j).length>0||Object.keys(l).some((function(e){return""!==l[e].url})),T=Object(Y.a)(Object(Y.a)({},v({isDragActive:P})),{},{activeColor:i.palette.primary.main});return Object(vn.jsxs)(nn.a,{fullWidth:!0,open:t,onClose:n,children:[Object(vn.jsx)(an.a,{children:"Add new videos"}),Object(vn.jsxs)(rn.a,{children:[Object(vn.jsx)(cn.a,{variant:"body1",children:"Paste links to the videos here"}),Object.keys(l).map((function(e,t){var n={value:l[e].url,onChange:A(e),onBlur:_(e),placeholder:"Video ".concat(t+1),fullWidth:!0};return Object(vn.jsx)(On,{children:Object(vn.jsx)(on.a,Object(Y.a)({},n))},e)})),Object(vn.jsxs)(fn,{children:[Object(vn.jsx)(pn,{color:i.palette.divider}),Object(vn.jsx)(hn,{children:Object(vn.jsx)(cn.a,{variant:"h6",children:"OR"})}),Object(vn.jsx)(pn,{color:i.palette.divider})]}),Object(vn.jsxs)(yn,Object(Y.a)(Object(Y.a)({},T),{},{children:[Object(vn.jsx)("input",Object(Y.a)({},x())),Object(vn.jsx)(cn.a,{variant:"body1",children:"Add files"})]})),Object(vn.jsx)(gn,{children:Object.keys(j).map((function(e){return Object(vn.jsxs)(En,{children:[Object(vn.jsx)(ln.a,{size:"small",onClick:D(e),children:Object(vn.jsx)(sn.a,{fontSize:"small"})}),Object(vn.jsx)("div",{style:{width:"4px"}}),Object(vn.jsx)(cn.a,{variant:"body1",children:y[e]})]},e)}))})]}),Object(vn.jsxs)(dn.a,{children:[Object(vn.jsx)(un.a,{onClick:n,children:"Cancel"}),Object(vn.jsx)(un.a,{color:"primary",variant:"contained",onClick:m,disabled:!R,children:"Confirm"})]})]})})),Pn=n(190),mn=n(191),Sn=n(192),An=Object(o.b)(Object(j.b)({isFullscreen:ae}))((function(e){var t=e.onAddVideosClick,n=e.isFullscreen;return n?null:Object(vn.jsx)(Pn.a,{in:!n,children:Object(vn.jsx)(mn.a,{position:"static",color:"inherit",children:Object(vn.jsxs)(Sn.a,{variant:"dense",children:[Object(vn.jsx)("img",{src:"".concat("/multiview","/logo192-clean.png"),alt:"Multiview",width:"30px",height:"30px"}),Object(vn.jsx)("div",{style:{width:"12px"}}),Object(vn.jsx)(cn.a,{variant:"h6",children:"Multiview"}),Object(vn.jsx)("div",{style:{flex:1}}),Object(vn.jsx)(un.a,{variant:"outlined",color:"default",onClick:function(){t&&t()},children:"Add videos"})]})})})})),_n=Object(o.b)(Object(j.b)({focusedPlayerId:se,isPlaying:je,durationSeconds:Oe,playedSeconds:fe,volume:pe,isMuted:he}),{playerStartPlaying:ye,masterPlayerStartPlaying:Te,playerStopPlaying:ge,masterPlayerStopPlaying:Le,playerSeekTo:Se,masterPlayerSeekTo:we,playerUpdateVolume:xe,masterPlayerUpdateVolume:_e,playerMute:Pe,masterPlayerMute:De,playerUnmute:me,masterPlayerUnmute:Re})((function(e){var t=e.isActive,n=e.isPlaying,r=e.focusedPlayerId,i=e.playedSeconds,c=e.durationSeconds,o=e.volume,l=e.isMuted,d=e.playerStartPlaying,u=e.masterPlayerStartPlaying,s=e.playerStopPlaying,b=e.masterPlayerStopPlaying,j=e.playerSeekTo,O=e.masterPlayerSeekTo,f=e.playerUpdateVolume,p=e.masterPlayerUpdateVolume,h=e.playerMute,y=e.masterPlayerMute,g=e.playerUnmute,E=e.masterPlayerUnmute,v=Object(a.useCallback)((function(e){if(t){var a=!0;switch(e.code){case"Space":n?r?s(r):b():r?d(r):u();break;case"ArrowLeft":case"ArrowRight":var v=Math.max(0,Math.min(c,i+5*("ArrowLeft"===e.code?-1:1)));r?j(r,{seekToSeconds:v}):O(v);break;case"ArrowUp":case"ArrowDown":var x=Math.max(0,Math.min(1,o+.1*("ArrowDown"===e.code?-1:1)));r?f(r,{volume:x}):p(x);break;case"KeyM":l?r?g(r):E():r?h(r):y();break;default:a=!1}a&&e.preventDefault()}}),[t,n,r,c,i,o,l,d,u,s,b,j,O,f,p,h,y,g,E]);return Object(a.useEffect)((function(){return window.addEventListener("keydown",v),function(){window.removeEventListener("keydown",v)}}),[v]),null})),Dn=n(227),Rn=n(217),Tn=n(218),Ln=n(196),wn=n(197),Mn=function(e){var t=Math.round(e),n=Math.floor(t/3600),a=Math.floor(t%3600/60),r=t%60,i=n>0?"".concat(n,":"):"",c=n>0&&a<10?"0".concat(a):"".concat(a,":"),o=r<10?"0".concat(r):r;return"".concat(i).concat(c).concat(o)},kn=function(e){for(var t=e.containerWidth,n=e.containerHeight,a=e.numberOfPlayers,r=0,i=t,c=0;Math.abs(r-i)>=1e-5&&c<=1e3;){var o=Math.ceil((i+r)/2),l=o,d=Math.ceil(l/16*9);In({containerWidth:t,containerHeight:n,playerWidth:l,playerHeight:d,numberOfPlayers:a})?r=o:i=o-1,c+=1}var u=r;return{playerWidth:u,playerHeight:Math.ceil(u/16*9)}},In=function(e){var t=e.containerWidth,n=e.containerHeight,a=e.playerWidth,r=e.playerHeight,i=e.numberOfPlayers,c=Math.floor(t/a);return Math.ceil(i/c)*r<=n},Yn=function(e){var t=e.playerWidth,n=e.playerHeight,a=e.containerWidth,r=e.containerHeight,i=e.numberOfPlayers,c=e.alignToRight,o=Math.floor(a/t),l=Math.floor(r/n);return Array.from({length:i}).map((function(e,d){var u=Math.floor(d/o),s=(a-(u===l-1?o-(o*l-i):o)*t)/2;return c&&(s*=2),{top:u*n+(r-l*n)/2,left:d%o*t+s,width:t,height:n}}))},Fn=jn.b.div(it||(it=Object(bn.a)(["\n    height: 19px;\n    margin-left: 8px;\n    margin-right: 8px;\n\n    position: relative;\n    top: -8px;\n    left: 0;\n    right: 0;\n\n    z-index: 1000;\n    cursor: pointer;\n"]))),Cn=jn.b.div(ct||(ct=Object(bn.a)(["\n    height: 3px;\n\n    position: relative;\n    top: 8px;\n    left: 0;\n    right: 0;\n\n    transition: 100ms;\n\n    ","\n"])),(function(e){return e.wide?"\n        height: 4px;\n        top: 7.5px;\n    ":null})),Un=jn.b.div.attrs((function(e){return{style:{right:"calc(100% - 100% * ".concat(e.progress,")")}}}))(ot||(ot=Object(bn.a)(["\n    width: auto;\n    height: 100%;\n    position: absolute;\n    top: 0;\n    left: 0;\n\n    background-color: ",";\n"])),(function(e){return e.color})),Gn=jn.b.div.attrs((function(e){return{style:{right:"calc(100% - 100% * ".concat(e.progress," - 6px)")}}}))(lt||(lt=Object(bn.a)(["\n    width: 12px;\n    height: 12px;\n    border-radius: 50%;\n    background-color: ",";\n\n    position: absolute;\n    top: -4px;\n\n    transform: scale(",");\n    transition: transform 100ms;\n"])),(function(e){return e.color}),(function(e){return e.visible?1:0})),Nn=jn.b.div.attrs((function(e){return{style:{left:"max(0px, min(calc(100% - 64px), calc(100% * ".concat(e.progress," - 32px)))")}}}))(dt||(dt=Object(bn.a)(["\n    width: 64px;\n    height: 32px;\n\n    position: absolute;\n    top: -32px;\n\n    display: flex;\n    justify-content: center;\n    align-items: center;\n\n    opacity: ",";\n    transition: opacity 100ms;\n\n    pointer-events: none;\n"])),(function(e){return e.visible?1:0})),Hn=Object(O.throttle)(1e3,(function(e,t){t&&t(e)})),Vn=function(e){var t=e.playedFraction,n=e.loadedFraction,r=e.durationSeconds,i=e.isBuffering,c=e.onSeek,o=Object(tn.a)(),l=Object(a.useState)(!1),d=Object(s.a)(l,2),u=d[0],b=d[1],j=Object(a.useState)(!1),O=Object(s.a)(j,2),f=O[0],p=O[1],h=Object(a.useState)(t),y=Object(s.a)(h,2),g=y[0],E=y[1],v=Object(a.useState)(0),x=Object(s.a)(v,2),P=x[0],m=x[1],S=Object(a.useRef)(null);Object(a.useEffect)((function(){f||i||E(t)}),[t,f,i]);var A=function(e){var t=S.current;if(t){var n=t.getBoundingClientRect(),a=n.width,r=e-n.x;return Math.max(0,Math.min(a,r))/a}return 0},_=function(e){var t=A(e);m(t),E(t),Hn(t,c)},D=function(e){_(e.clientX),e.preventDefault()},R=function e(){p(!1),window.removeEventListener("mousemove",D),window.removeEventListener("mouseup",e)},T=u||f,L={onMouseEnter:function(){return b(!0)},onMouseLeave:function(){return b(!1)},onMouseMove:function(e){var t=A(e.clientX);m(t)},onMouseDown:function(e){p(!0),_(e.clientX),window.addEventListener("mousemove",D),window.addEventListener("mouseup",R)},onMouseUp:R};return null===r||r===1/0?Object(vn.jsx)(Fn,{style:{cursor:"initial "},children:Object(vn.jsx)(Cn,{wide:!1,children:Object(vn.jsx)(Un,{progress:1,color:"rgba(255, 255, 255, 0.2)"})})}):Object(vn.jsx)(Fn,Object(Y.a)(Object(Y.a)({},L),{},{children:Object(vn.jsxs)(Cn,{wide:T,ref:S,children:[Object(vn.jsx)(Un,{progress:1,color:"rgba(255, 255, 255, 0.2)"}),Object(vn.jsx)(Un,{progress:n,color:"rgba(255, 255, 255, 0.6)"}),Object(vn.jsx)(Un,{progress:g,color:o.palette.primary.light}),Object(vn.jsx)(Gn,{progress:g,color:o.palette.primary.light,visible:T}),Object(vn.jsx)(Nn,{progress:P,visible:T,children:Object(vn.jsx)(cn.a,{variant:"caption",children:Mn(Math.round(P*r))})})]})}))},Bn=n(7),zn=n(226),Wn=n(193),Kn=n(194),Xn=n(195),qn=jn.b.div(ut||(ut=Object(bn.a)(["\n    width: ","px;\n    height: 30px;\n    overflow: hidden;\n\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n\n    transition: width 100ms;\n"])),(function(e){return e.isSliderVisible?114:30})),Jn=jn.b.div(st||(st=Object(bn.a)(["\n    margin-right: 12px;\n    z-index: 1;\n"]))),$n=jn.b.div(bt||(bt=Object(bn.a)(["\n    width: 62px;\n    height: 28px;\n    z-index: 0;\n"]))),Zn=Object(Bn.a)({root:{color:"white",height:4},thumb:{"&:focus, &:hover, &$active":{boxShadow:"inherit"}},active:{},track:{height:4,marginTop:-1},rail:{height:4,marginTop:-1}})(zn.a),Qn=Object(O.throttle)(100,(function(e,t){t&&t(e)})),ea=function(e,t){return t||0===e?Object(vn.jsx)(Wn.a,{}):e<.5?Object(vn.jsx)(Kn.a,{}):Object(vn.jsx)(Xn.a,{})},ta=function(e){var t=e.volume,n=e.isMuted,r=e.onVolumeChange,i=e.onMuteUnmute,c=Object(a.useState)(!1),o=Object(s.a)(c,2),l=o[0],d=o[1],u=Object(a.useState)(!1),b=Object(s.a)(u,2),j=b[0],O=b[1],f=Object(a.useState)(t),p=Object(s.a)(f,2),h=p[0],y=p[1];Object(a.useEffect)((function(){j||y(t)}),[t,j,y]),Object(a.useEffect)((function(){return window.addEventListener("mouseup",(function(){return O(!1)})),function(){window.removeEventListener("mouseup",(function(){return O(!1)}))}}),[O]);var g={isSliderVisible:l||j,onMouseEnter:function(){return d(!0)},onMouseLeave:function(){return d(!1)}},E={onMouseDown:function(){return O(!0)},onMouseUp:function(){return O(!1)}},v={value:h,min:0,max:1,step:.01,onChange:function(e,t){var n=(Array.isArray(t)?t[0]:t)||0;Qn(n,r),y(n)}};return Object(vn.jsxs)(qn,Object(Y.a)(Object(Y.a)({},g),{},{children:[Object(vn.jsx)(Jn,{children:Object(vn.jsx)(ln.a,{size:"small",onClick:function(){i&&i(!n)},children:ea(t,n)})}),Object(vn.jsx)($n,Object(Y.a)(Object(Y.a)({},E),{},{children:Object(vn.jsx)(Zn,Object(Y.a)({},v))}))]}))},na=jn.b.div(jt||(jt=Object(bn.a)(["\n    width: 100%;\n    height: 46px;\n"]))),aa=jn.b.div(Ot||(Ot=Object(bn.a)(["\n    width: 100%;\n    position: absolute;\n    left: 0;\n    bottom: 0;\n\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n"]))),ra=jn.b.div(ft||(ft=Object(bn.a)(["\n    height: 30px;\n\n    display: flex;\n    flex-direction: row;\n    flex: 1;\n"]))),ia=jn.b.div(pt||(pt=Object(bn.a)(["\n    height: 100%;\n    padding-left: 12px;\n\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n\n    user-select: none;\n"]))),ca=jn.b.div(ht||(ht=Object(bn.a)(["\n    flex: 1;\n"]))),oa=jn.b.div(yt||(yt=Object(bn.a)(["\n    height: 28px;\n\n    display: flex;\n    flex-direction: row;\n    justify-content: right;\n    align-items: center;\n"]))),la=function(e){var t=e.isPlaying,n=e.isBuffering,a=e.isMuted,r=e.volume,i=e.durationSeconds,c=e.playedFraction,o=e.loadedFraction,l=e.onPlay,d=e.onPause,u=e.onMuteUnmute,s=e.onVolumeChange,b=e.onSeek,j=e.actions,O={playedFraction:c,loadedFraction:o,durationSeconds:i,isBuffering:n,onSeek:function(e){b(e*i)}},f={volume:a?0:r,onMuteUnmute:u,onVolumeChange:s},p=null===i||i===1/0;return Object(vn.jsxs)(na,{children:[Object(vn.jsx)(Vn,Object(Y.a)({},O)),Object(vn.jsxs)(aa,{children:[Object(vn.jsx)(ln.a,{size:"small",onClick:function(){t?d():l()},children:t?Object(vn.jsx)(Ln.a,{fontSize:"large"}):Object(vn.jsx)(wn.a,{fontSize:"large"})}),Object(vn.jsxs)(ra,{children:[Object(vn.jsx)("div",{style:{width:"10px"}}),Object(vn.jsx)(ta,Object(Y.a)({},f)),p?null:Object(vn.jsxs)(ia,{children:[Object(vn.jsx)(cn.a,{variant:"body2",children:Mn(Math.round(c*i))}),Object(vn.jsx)("div",{style:{width:"4px"}}),Object(vn.jsx)(cn.a,{variant:"body2",children:" / "}),Object(vn.jsx)("div",{style:{width:"4px"}}),Object(vn.jsx)(cn.a,{variant:"body2",children:Mn(i)})]}),Object(vn.jsx)(ca,{}),Object(vn.jsx)(oa,{children:j})]})]})]})},da=n(104),ua=n(205),sa=n(206),ba=n(208),ja=n(198),Oa=n(199),fa=n(200),pa=n(201),ha=n(202),ya=n(203),ga=n(204),Ea=Object(o.b)((function(e,t){return{layout:ie(e),isMainPlayer:le(t.id)(e),canMoveLeft:de(t.id)(e),canMoveRight:ue(t.id)(e)}}),{movePlayerToMainPlayers:Ge,movePlayerToSecondaryPlayers:Ne,makePlayerMain:function(e){return function(t,n){var a=n(),r=ce(a),i=oe(a);t(Fe({mainPlayerIds:[e],secondaryPlayerIds:[].concat(Object(M.a)(r),Object(M.a)(i)).filter((function(t){return t!==e}))}))}},movePlayerLeft:function(e){return function(t,n){var a=n(),r=ie(a),i=Object(M.a)(ce(a)),c=Object(M.a)(oe(a)),o=i.indexOf(e),l=c.indexOf(e);o>0?(i[o]=i[o-1],i[o-1]=e):l>0?(c[l]=c[l-1],c[l-1]=e):0===l&&(r===te.b.Grid?(c[0]=i[i.length-1],i[i.length-1]=e):(i=[].concat(Object(M.a)(i),[e]),c=c.slice(1,c.length))),t(Fe({mainPlayerIds:Object(M.a)(i),secondaryPlayerIds:Object(M.a)(c)}))}},movePlayerRight:function(e){return function(t,n){var a=n(),r=ie(a),i=Object(M.a)(ce(a)),c=Object(M.a)(oe(a)),o=i.indexOf(e),l=c.indexOf(e);-1!==o&&o<i.length-1?(i[o]=i[o+1],i[o+1]=e):o===i.length-1?r===te.b.Grid?(i[o]=c[0],c[0]=e):(i=i.slice(0,i.length-1),c=[e].concat(Object(M.a)(c))):-1!==l&&l<c.length-1&&(c[l]=c[l+1],c[l+1]=e),t(Fe({mainPlayerIds:Object(M.a)(i),secondaryPlayerIds:Object(M.a)(c)}))}},removeVideo:function(e){return{type:He.b,payload:{id:e}}}})((function(e){var t=e.id,n=e.onHide,r=e.dense,i=e.layout,c=e.isMainPlayer,o=e.canMoveLeft,l=e.canMoveRight,d=e.movePlayerToMainPlayers,u=e.movePlayerToSecondaryPlayers,j=e.makePlayerMain,O=e.movePlayerLeft,f=e.movePlayerRight,p=e.removeVideo,h=Object(a.useRef)(null),y=Object(a.useState)(!1),g=Object(s.a)(y,2),E=g[0],v=g[1],x=Object(a.useState)(!1),P=Object(s.a)(x,2),m=P[0],S=P[1],A=function(){v(!1)},_=[{isShown:(i===b.Layout.Focused||i===b.Layout.Overlay)&&!c,title:"Focus",icon:Object(vn.jsx)(ja.a,{fontSize:"small"}),onClick:function(){j(t)}},{isShown:o,title:"Move left",icon:Object(vn.jsx)(Oa.a,{fontSize:"small"}),onClick:function(){return O(t)}},{isShown:i===b.Layout.Focused,title:c?"Move down":"Move up",icon:c?Object(vn.jsx)(fa.a,{fontSize:"small"}):Object(vn.jsx)(pa.a,{fontSize:"small"}),onClick:function(){c?u(t):d(t)}},{isShown:l,title:"Move right",icon:Object(vn.jsx)(ha.a,{fontSize:"small"}),onClick:function(){return f(t)}},{isShown:!0,title:"Hide controls overlay",icon:Object(vn.jsx)(ya.a,{fontSize:"small"}),onClick:function(){n&&n()}},{isShown:!0,title:"Remove video",icon:Object(vn.jsx)(sn.a,{fontSize:"small"}),onClick:function(){S(!0)}}];return Object(vn.jsxs)(vn.Fragment,{children:[r?Object(vn.jsxs)(vn.Fragment,{children:[Object(vn.jsx)(ln.a,{size:"small",ref:h,onClick:function(){v(!0)},children:Object(vn.jsx)(ga.a,{fontSize:"small"})}),Object(vn.jsx)("div",{style:{width:"4px"}}),Object(vn.jsx)(da.a,{anchorEl:h.current,open:E,onClose:A,onClick:A,children:_.map((function(e){var t=e.isShown,n=e.title,a=e.icon,r=e.onClick;return t?Object(vn.jsxs)(ua.a,{dense:!0,onClick:r,children:[Object(vn.jsx)(sa.a,{children:a}),Object(vn.jsx)(cn.a,{variant:"body1",children:n})]},"title"):null}))})]}):_.map((function(e){var t=e.isShown,n=e.title,a=e.icon,r=e.onClick;return t?Object(vn.jsxs)("div",{children:[Object(vn.jsx)(Dn.a,{title:n,children:Object(vn.jsx)(ln.a,{size:"small",onClick:r,children:a})}),Object(vn.jsx)("div",{style:{width:"4px"}})]},n):null})),Object(vn.jsx)("div",{style:{width:"4px"}}),Object(vn.jsxs)(nn.a,{open:m,children:[Object(vn.jsx)(an.a,{children:"Confirm deletion"}),Object(vn.jsxs)(rn.a,{children:[Object(vn.jsx)(ba.a,{children:"Are you sure you want to delete this video?"}),Object(vn.jsxs)(dn.a,{children:[Object(vn.jsx)(un.a,{onClick:function(){S(!1)},color:"default",children:"Cancel"}),Object(vn.jsx)(un.a,{onClick:function(){p(t)},color:"primary",variant:"contained",children:"Delete"})]})]})]})]})})),va=Object(o.b)((function(e,t){var n=t.id;return{isPlaying:H(n)(e),isBuffering:V(n)(e),isMuted:J(n)(e),volume:q(n)(e),durationSeconds:B(n)(e),playedFraction:W(n)(e),loadedFraction:X(n)(e)}}),{playerStartPlaying:ye,playerStopPlaying:ge,playerUpdateVolume:xe,playerMute:Pe,playerUnmute:me,playerPushPendingSeek:Se,playerStartBuffering:Ee})((function(e){var t=e.id,n=e.isMuted,a=e.onHide,r=e.playerStartPlaying,i=e.playerStopPlaying,c=e.playerUpdateVolume,o=e.playerMute,l=e.playerUnmute,d=e.playerPushPendingSeek,u=e.playerStartBuffering,s=e.playerWidth,b=(e.playerHeight,Object(k.a)(e,["id","isMuted","onHide","playerStartPlaying","playerStopPlaying","playerUpdateVolume","playerMute","playerUnmute","playerPushPendingSeek","playerStartBuffering","playerWidth","playerHeight"])),j=!!s&&s<320,O=Object(Y.a)({isMuted:n,onPlay:function(){return r(t)},onPause:function(){return i(t)},onMuteUnmute:function(){n?l(t):o(t)},onVolumeChange:function(e){return c(t,{volume:e})},onSeek:function(e){u(t),d(t,{seekToSeconds:e})},actions:Object(vn.jsx)(Ea,{id:t,onHide:a,dense:j})},b);return Object(vn.jsx)(la,Object(Y.a)({},O))})),xa=n(214),Pa=n(215),ma=n(216),Sa=n(207),Aa=n(185),_a=n(153),Da=n(209),Ra=n(212),Ta=n(210),La=n(211),wa=n(213),Ma=jn.b.div(gt||(gt=Object(bn.a)(["\n    width: 220px;\n    height: 500px;\n    padding-bottom: 16px;\n\n    display: flex;\n    flex-direction: column;\n    justify-content: flex-end;\n\n    overflow: hidden;\n    pointer-events: none;\n"]))),ka=jn.b.div(Et||(Et=Object(bn.a)(["\n    width: 100%;\n    height: ","px;\n\n    border-radius: 4px;\n    background-color: rgba(28, 28, 28, 0.9);\n    overflow: hidden;\n    pointer-events: all;\n\n    display: flex;\n    flex-direction: column;\n    justify-content: flex-end;\n\n    transition: height 100ms;\n"])),(function(e){return e.height})),Ia=jn.b.div(vt||(vt=Object(bn.a)(["\n    width: 100%;\n    height: 24px;\n\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n"]))),Ya=jn.b.div(xt||(xt=Object(bn.a)(["\n    margin-right: -8px;\n\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n"]))),Fa=jn.b.span(Pt||(Pt=Object(bn.a)(["\n    font-size: 0.875rem;\n    line-height: 24px;\n"]))),Ca=jn.b.span(mt||(mt=Object(bn.a)(["\n    margin-top: 2px;\n    font-size: 0.75rem;\n    line-height: 24px;\n"]))),Ua=(jn.b.div(St||(St=Object(bn.a)(["\n    width: 64px;\n"]))),jn.b.div(At||(At=Object(bn.a)(["\n    height: 32px;\n\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n"])))),Ga=jn.b.div(_t||(_t=Object(bn.a)(["\n    width: calc(100% + 20px);\n    margin-left: -12px;\n    margin-right: -8px;\n\n    display: flex;\n    flex-direction: row;\n    align-items: flex-start;\n"]))),Na=jn.b.div(Dt||(Dt=Object(bn.a)(["\n    width: 36px;\n    padding: 4px;\n    padding-right: 8px;\n"]))),Ha=jn.b.div(Rt||(Rt=Object(bn.a)(["\n    flex: 1;\n    padding-top: 4px;\n    padding-bottom: 4px;\n\n    display: flex;\n    flex-direction: column;\n"]))),Va=jn.b.div(Tt||(Tt=Object(bn.a)(["\n    font-size: 0.875rem;\n    margin-bottom: 2px;\n"]))),Ba=jn.b.div(Lt||(Lt=Object(bn.a)(["\n    font-size: 0.75rem;\n    color: rgba(255, 255, 255, 0.7);\n"]))),za=Object(o.b)(Object(j.b)({controlsMode:re,layout:ie}),{changeControlsMode:Ye,changeLayout:function(e){return{type:te.g,payload:{layout:e}}}})((function(e){var t=e.isOpen,n=e.anchorElement,r=e.controlsMode,i=e.layout,c=e.changeControlsMode,o=e.changeLayout,l=Object(a.useState)(0),d=Object(s.a)(l,2),u=d[0],j=d[1];Object(a.useEffect)((function(){j(0)}),[t]);var O={open:t,anchorEl:n,placement:"top",style:{zIndex:1e4,pointerEvents:"none"}},f=[80,288,267][u],p={appear:!1,mountOnEnter:!0,unmountOnExit:!0};return Object(vn.jsx)(Sa.a,Object(Y.a)(Object(Y.a)({},O),{},{children:Object(vn.jsx)(Ma,{children:Object(vn.jsxs)(ka,{height:f,children:[Object(vn.jsx)(Pn.a,Object(Y.a)(Object(Y.a)({},p),{},{direction:"right",in:0===u,children:Object(vn.jsxs)(Aa.a,{dense:!0,children:[Object(vn.jsx)(_a.a,{button:!0,onClick:function(){return j(1)},children:Object(vn.jsxs)(Ia,{children:[Object(vn.jsx)(Fa,{children:"Layout"}),Object(vn.jsxs)(Ya,{children:[Object(vn.jsx)(Ca,{children:i}),Object(vn.jsx)(Da.a,{children:Object(vn.jsx)(Ta.a,{})})]})]})}),Object(vn.jsx)(_a.a,{button:!0,onClick:function(){return j(2)},children:Object(vn.jsxs)(Ia,{children:[Object(vn.jsx)(Fa,{children:"Controls"}),Object(vn.jsxs)(Ya,{children:[Object(vn.jsx)(Ca,{children:r}),Object(vn.jsx)(Da.a,{children:Object(vn.jsx)(Ta.a,{})})]})]})})]})})),Object(vn.jsx)(Pn.a,Object(Y.a)(Object(Y.a)({},p),{},{direction:"left",in:1===u,children:Object(vn.jsxs)(Aa.a,{dense:!0,children:[Object(vn.jsx)(_a.a,{button:!0,onClick:function(){return j(0)},children:Object(vn.jsxs)(Ua,{children:[Object(vn.jsx)(Da.a,{style:{marginLeft:"-8px",marginRight:"8px"},children:Object(vn.jsx)(La.a,{})}),Object(vn.jsx)(Fa,{children:"Layout"})]})}),Object(vn.jsx)(Ra.a,{style:{backgroundColor:"rgba(255, 255, 255, 0.3)"}}),Object(vn.jsx)(_a.a,{button:!0,onClick:function(){return o(b.Layout.Overlay)},children:Object(vn.jsxs)(Ga,{children:[Object(vn.jsx)(Na,{children:i===b.Layout.Overlay?Object(vn.jsx)(Da.a,{children:Object(vn.jsx)(wa.a,{})}):null}),Object(vn.jsxs)(Ha,{children:[Object(vn.jsx)(Va,{children:"Overlay"}),Object(vn.jsx)(Ba,{children:"One big player in the middle, the rest in an overlaid list at the top right."})]})]})}),Object(vn.jsx)(_a.a,{button:!0,onClick:function(){return o(b.Layout.Focused)},children:Object(vn.jsxs)(Ga,{children:[Object(vn.jsx)(Na,{children:i===b.Layout.Focused?Object(vn.jsx)(Da.a,{children:Object(vn.jsx)(wa.a,{})}):null}),Object(vn.jsxs)(Ha,{children:[Object(vn.jsx)(Va,{children:"Focused"}),Object(vn.jsx)(Ba,{children:"One or more big players at the top, the rest in a list of small players at the bottom."})]})]})}),Object(vn.jsx)(_a.a,{button:!0,onClick:function(){return o(b.Layout.Grid)},children:Object(vn.jsxs)(Ga,{children:[Object(vn.jsx)(Na,{children:i===b.Layout.Grid?Object(vn.jsx)(Da.a,{children:Object(vn.jsx)(wa.a,{})}):null}),Object(vn.jsxs)(Ha,{children:[Object(vn.jsx)(Va,{children:"Grid"}),Object(vn.jsx)(Ba,{children:"A grid of equally sized players."})]})]})})]})})),Object(vn.jsx)(Pn.a,Object(Y.a)(Object(Y.a)({},p),{},{direction:"left",in:2===u,children:Object(vn.jsxs)(Aa.a,{dense:!0,children:[Object(vn.jsx)(_a.a,{button:!0,onClick:function(){return j(0)},children:Object(vn.jsxs)(Ua,{children:[Object(vn.jsx)(Da.a,{style:{marginLeft:"-8px",marginRight:"8px"},children:Object(vn.jsx)(La.a,{})}),Object(vn.jsx)(Fa,{children:"Controls"})]})}),Object(vn.jsx)(Ra.a,{style:{backgroundColor:"rgba(255, 255, 255, 0.3)"}}),Object(vn.jsx)(_a.a,{button:!0,onClick:function(){return c(b.ControlsMode.Individual)},children:Object(vn.jsxs)(Ga,{children:[Object(vn.jsx)(Na,{children:r===b.ControlsMode.Individual?Object(vn.jsx)(Da.a,{children:Object(vn.jsx)(wa.a,{})}):null}),Object(vn.jsxs)(Ha,{children:[Object(vn.jsx)(Va,{children:"Individual"}),Object(vn.jsx)(Ba,{children:"Show controls for each player individually. Keyboard and mouse actions will be executed on the hovered player."})]})]})}),Object(vn.jsx)(_a.a,{button:!0,onClick:function(){return c(b.ControlsMode.Grouped)},children:Object(vn.jsxs)(Ga,{children:[Object(vn.jsx)(Na,{children:r===b.ControlsMode.Grouped?Object(vn.jsx)(Da.a,{children:Object(vn.jsx)(wa.a,{})}):null}),Object(vn.jsxs)(Ha,{children:[Object(vn.jsx)(Va,{children:"Grouped"}),Object(vn.jsx)(Ba,{children:"Only show the main controls. Keyboard and mouse actions will affect all players at the same time."})]})]})})]})}))]})})}))})),Wa=Object(o.b)(Object(j.b)({isFullscreen:ae}),{toggleFullscreen:function(){return function(e,t){e(ae(t())?Ue():Ce())}}})((function(e){var t=e.isVisible,n=e.isFullscreen,r=e.toggleFullscreen,i=Object(a.useRef)(null),c=Object(a.useState)(!1),o=Object(s.a)(c,2),l=o[0],d=o[1],u={isOpen:t&&l,anchorElement:i.current};return Object(vn.jsxs)(vn.Fragment,{children:[Object(vn.jsx)(xa.a,{onClickAway:function(){return d(!1)},children:Object(vn.jsxs)("div",{children:[Object(vn.jsx)(ln.a,{size:"small",onClick:function(){return d(!l)},ref:i,children:Object(vn.jsx)("div",{style:{width:"24px",height:"24px",display:"flex",justifyContent:"center",alignItems:"center"},children:Object(vn.jsx)(ga.a,{fontSize:"small"})})}),Object(vn.jsx)(za,Object(Y.a)({},u))]})}),Object(vn.jsx)(ln.a,{size:"small",onClick:r,children:n?Object(vn.jsx)(Pa.a,{}):Object(vn.jsx)(ma.a,{})}),Object(vn.jsx)("div",{style:{width:"4px"}})]})})),Ka=Object(o.b)(Object(j.b)({isPlaying:p,isBuffering:h,isMuted:S,volume:m,durationSeconds:y,playedFraction:v,loadedFraction:P}),{startPlayback:Te,stopPlayback:Le,seekTo:we,updateVolume:_e,mute:De,unmute:Re})((function(e){var t=e.isVisible,n=e.isMuted,a=e.startPlayback,r=e.stopPlayback,i=e.updateVolume,c=e.mute,o=e.unmute,l=e.seekTo,d=Object(k.a)(e,["isVisible","isMuted","startPlayback","stopPlayback","updateVolume","mute","unmute","seekTo"]),u=Object(Y.a)({isMuted:n,onPlay:a,onPause:r,onMuteUnmute:function(){n?o():c()},onVolumeChange:i,onSeek:l,actions:Object(vn.jsx)(Wa,{isVisible:t})},d);return Object(vn.jsx)(la,Object(Y.a)({},u))})),Xa=jn.b.div(wt||(wt=Object(bn.a)(["\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n\n    pointer-events: ",";\n    ","\n\n    ","\n\n    overflow: hidden;\n"])),(function(e){return e.isBlockingPointerEvents?"initial":"none"}),(function(e){return e.isCursorHidden?"cursor: none;":""}),(function(e){return e.zIndex?"z-index: ".concat(e.zIndex,";"):""})),qa=jn.b.div(Mt||(Mt=Object(bn.a)(["\n    position: absolute;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    pointer-events: all;\n\n    transition: opacity 200ms;\n    opacity: ",";\n"])),(function(e){return e.isVisible?1:0})),Ja=jn.b.div(kt||(kt=Object(bn.a)(["\n    position: absolute;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    pointer-events: none;\n\n    height: 30%;\n\n    background: linear-gradient(0deg, rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.1) 70%, rgba(0, 0, 0, 0));\n\n    transition: opacity 200ms;\n    opacity: ",";\n"])),(function(e){return e.isVisible?1:0})),$a=jn.b.div(It||(It=Object(bn.a)(["\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n"]))),Za=jn.b.div(Yt||(Yt=Object(bn.a)(["\n    height: 46px;\n"]))),Qa=jn.b.div(Ft||(Ft=Object(bn.a)(["\n    position: absolute;\n\n    top: calc(50% - 20px);\n    right: 8px;\n\n    width: 40px;\n    height: 40px;\n\n    z-index: 10;\n"]))),er=Object(o.b)((function(e,t){var n=t.id;return{isPlaying:n?H(n)(e):p(e),isFullscreen:ae(e),controlsMode:re(e)}}),{playerStartPlaying:ye,playerStopPlaying:ge,masterPlayerStartPlaying:Te,masterPlayerStopPlaying:Le,changeFocusedPlayerId:function(e){return{type:te.d,payload:{focusedPlayerId:e}}}})((function(e){var t=e.id,n=e.width,r=e.height,i=e.isPlaying,c=e.isFullscreen,o=e.controlsMode,l=e.playerStartPlaying,d=e.playerStopPlaying,u=e.masterPlayerStartPlaying,j=e.masterPlayerStopPlaying,O=e.changeFocusedPlayerId,f=Object(a.useRef)(null),p=Object(a.useState)(!1),h=Object(s.a)(p,2),y=h[0],g=h[1],E=Object(a.useState)(!1),v=Object(s.a)(E,2),x=v[0],P=v[1],m=Object(a.useState)(!0),S=Object(s.a)(m,2),A=S[0],_=S[1],D=Object(a.useCallback)((function(){f.current&&window.clearTimeout(f.current),f.current=window.setTimeout((function(){i&&_(!1),f.current=null}),3e3)}),[i]);Object(a.useEffect)((function(){D()}),[i,D]),Object(a.useEffect)((function(){!t||t&&o===b.ControlsMode.Individual?_(!i||x):_(!1)}),[i,x,o,t]);var R=!t,T=R&&c||!R,L={isBlockingPointerEvents:R&&o===b.ControlsMode.Grouped||!R,isCursorHidden:!A,zIndex:R?3:void 0,onMouseEnter:function(){P(!0),O(t||null)},onMouseLeave:function(){P(!1),O(null)},onMouseMove:function(){x&&_(!0),D()}};return y?Object(vn.jsx)(Qa,{children:Object(vn.jsx)(Dn.a,{title:"Show controls overlay",children:Object(vn.jsx)(Rn.a,{size:"small",onClick:function(){return g(!1)},children:Object(vn.jsx)(Tn.a,{fontSize:"small"})})})}):Object(vn.jsxs)(vn.Fragment,{children:[Object(vn.jsxs)(Xa,Object(Y.a)(Object(Y.a)({},L),{},{children:[Object(vn.jsx)(Ja,{isVisible:A&&T}),Object(vn.jsx)($a,{onClick:function(){i?t?d(t):j():(D(),t?l(t):u())}}),Object(vn.jsx)(qa,{isVisible:A||!T,children:t?Object(vn.jsx)(va,{id:t,onHide:function(){return g(!0)},playerWidth:n,playerHeight:r}):Object(vn.jsx)(Ka,{isVisible:A||!T,playerWidth:n,playerHeight:r})})]})),R&&!c?Object(vn.jsx)(Za,{}):null]})})),tr=n(102),nr=n.n(tr),ar=jn.b.div(Ct||(Ct=Object(bn.a)(["\n    position: relative;\n\n    width: ","px;\n    height: ","px;\n\n    ","\n"])),(function(e){return e.width}),(function(e){return e.height}),(function(e){return e.shadow?"\n        box-shadow: 4px 4px 8px rgba(0, 0, 0, 0.4);\n    ":null})),rr=jn.b.div(Ut||(Ut=Object(bn.a)(["\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n"]))),ir=Object(o.b)((function(e,t){var n=t.id;return{isPlaying:H(n)(e),isMasterBuffering:h(e),volume:q(n)(e),masterVolume:m(e),isPlayerMuted:J(n)(e),isMasterMuted:S(e),pendingSeeks:$(n)(e)}}),{initializePlayer:function(e){return{type:F.b,payload:{id:e}}},playerReady:function(e){return{type:F.i,payload:{id:e}}},playerStartPlaying:ye,playerStopPlaying:ge,playerStartBuffering:Ee,playerStopBuffering:function(e){return{type:F.l,payload:{id:e}}},playerEndVideo:ve,playerUpdateDuration:function(e,t){var n=t.durationSeconds;return{type:F.a,payload:{id:e,durationSeconds:n}}},playerUpdateProgress:function(e,t){return{type:F.h,payload:Object(Y.a)({id:e},t)}},playerPopPendingSeek:function(e){return{type:F.e,payload:{id:e}}}})((function(e){var t=e.id,n=e.video,r=e.width,i=e.height,c=e.shadow,o=e.isPlaying,l=e.isMasterBuffering,d=e.volume,u=e.masterVolume,s=e.isPlayerMuted,b=e.isMasterMuted,j=e.pendingSeeks,O=e.initializePlayer,f=e.playerReady,p=e.playerStartPlaying,h=e.playerStopPlaying,y=e.playerStartBuffering,g=e.playerStopBuffering,E=e.playerEndVideo,v=e.playerUpdateDuration,x=e.playerUpdateProgress,P=e.playerPopPendingSeek,m=Object(a.useRef)(null);Object(a.useEffect)((function(){O(t)}),[t,O]),Object(a.useEffect)((function(){var e=m.current;j.length>0&&e&&(e.seekTo(j[0],"seconds"),y(t),P(t))}),[t,j,y,P]);var S=s||b,A={url:n.url,ref:m,controls:!1,width:r,height:i,volume:S?0:d*u,playing:o&&!l,onReady:function(){f(t)},onPlay:function(){p(t)},onPause:function(){l||h(t)},onBuffer:function(){return y(t)},onBufferEnd:function(){return g(t)},onEnded:function(){return E(t)},onDuration:function(e){return v(t,{durationSeconds:e})},onProgress:function(e){var n=e.played,a=e.loaded,r=e.playedSeconds,i=e.loadedSeconds;x(t,{playedSeconds:r,playedFraction:n,loadedSeconds:i,loadedFraction:a}),i<r&&y(t),i>=r&&g(t)},config:{youtube:{playerVars:{disablekb:1}}}};return Object(vn.jsxs)(ar,{width:r,height:i,shadow:c,children:[Object(vn.jsx)(rr,{children:Object(vn.jsx)(nr.a,Object(Y.a)({},A))}),Object(vn.jsx)(er,{id:t,width:r,height:i})]})})),cr=jn.b.div(Gt||(Gt=Object(bn.a)(["\n    position: relative;\n\n    width: 100%;\n    flex-grow: 1;\n\n    overflow: hidden;\n"]))),or=jn.b.div(Nt||(Nt=Object(bn.a)(["\n    position: absolute;\n    top: ","px;\n    left: ","px;\n    width: ","px;\n    height: ","px;\n    padding: ","px;\n\n    ","\n\n    transition: 300ms;\n"])),(function(e){return e.top}),(function(e){return e.left}),(function(e){return e.width}),(function(e){return e.height}),(function(e){return e.padding}),(function(e){return e.zIndex?"z-index: ".concat(e.zIndex,";"):""})),lr=jn.b.div(Ht||(Ht=Object(bn.a)(["\n    position: absolute;\n    top: ","%;\n    left: 0;\n    right: 0;\n    height: 10px;\n\n    opacity: 0;\n    transition: opacity 200ms;\n\n    &:hover {\n        opacity: 1;\n    }\n\n    cursor: ns-resize;\n    z-index: 1;\n"])),(function(e){return 100*e.heightFraction})),dr=jn.b.div(Vt||(Vt=Object(bn.a)(["\n    position: absolute;\n    top: 3.5px;\n    left: 16px;\n    right: 16px;\n    height: 0;\n\n    border-top: 3px dashed rgba(255, 255, 255, 0.3);\n"]))),ur=jn.b.div(Bt||(Bt=Object(bn.a)(["\n    position: absolute;\n    top: ","px;\n    left: ","px;\n\n    width: 10px;\n    height: ","px;\n\n    opacity: 0;\n    transition: opacity 200ms;\n\n    &:hover {\n        opacity: 1;\n    }\n\n    cursor: ew-resize;\n    z-index: 3;\n"])),(function(e){return e.top}),(function(e){return e.left}),(function(e){return e.height})),sr=jn.b.div(zt||(zt=Object(bn.a)(["\n    position: absolute;\n    top: 4px;\n    left: 2px;\n    bottom: 4px;\n    width: 0;\n\n    border-left: 4px dashed ",";\n"])),(function(e){return e.color})),br=Object(o.b)(Object(j.b)({layout:ie,videos:function(e){return e.videos},isFullscreen:ae,mainPlayerIds:ce,secondaryPlayerIds:oe}))((function(e){var t=e.padding,n=void 0===t?8:t,r=e.minPlayerHeight,i=void 0===r?150:r,c=e.layout,o=e.videos,l=e.isFullscreen,d=e.mainPlayerIds,u=e.secondaryPlayerIds,j=Object(tn.a)(),O=Object(a.useRef)(null),f=Object(a.useState)({}),p=Object(s.a)(f,2),h=p[0],y=p[1],g=Object(a.useState)(!1),E=Object(s.a)(g,2),v=E[0],x=E[1],P=Object(a.useState)(.75),m=Object(s.a)(P,2),S=m[0],A=m[1],_=Object(a.useState)(.3),D=Object(s.a)(_,2),R=D[0],T=D[1],L=Object(a.useState)({rows:0,cols:0}),w=Object(s.a)(L,2),k=w[0],F=w[1],C=Object(a.useCallback)((function(){var e=O.current;if(e){var t=e.getBoundingClientRect(),n=t.width,a=t.height,r=a*S,i=a*(1-S)-10,c=kn({containerWidth:n,containerHeight:r,numberOfPlayers:d.length}),o=kn({containerWidth:n,containerHeight:i,numberOfPlayers:u.length}),l=Yn(Object(Y.a)(Object(Y.a)({},c),{},{containerWidth:n,containerHeight:r,numberOfPlayers:d.length})),s=Yn(Object(Y.a)(Object(Y.a)({},o),{},{containerWidth:n,containerHeight:i,numberOfPlayers:u.length})).map((function(e){return Object(Y.a)(Object(Y.a)({},e),{},{top:e.top+r+10})})),b=d.reduce((function(e,t,n){return Object(Y.a)(Object(Y.a)({},e),{},Object(I.a)({},t,l[n]))}),{}),j=u.reduce((function(e,t,n){return Object(Y.a)(Object(Y.a)({},e),{},Object(I.a)({},t,s[n]))}),{});y(Object(Y.a)(Object(Y.a)({},b),j))}}),[d,u,S]),U=Object(a.useCallback)((function(){0===d.length&&y({});var e=O.current;if(e){var t=e.getBoundingClientRect(),a=t.width,r=t.height,c=kn({containerWidth:a,containerHeight:r,numberOfPlayers:1}),o=Yn(Object(Y.a)(Object(Y.a)({},c),{},{containerWidth:a,containerHeight:r,numberOfPlayers:1}))[0],l=o.width*R,s=function(e){var t=e.lineWidth,n=e.minPlayerHeight,a=e.containerHeight,r=e.numberOfPlayers,i=n/9*16,c=t/r,o=c/16*9;if(o<n){var l=Math.floor(t/i),d=Math.ceil(r/l);if(d*n<a)return{positions:Yn({playerWidth:i,playerHeight:n,containerWidth:t,containerHeight:d*n,numberOfPlayers:r,alignToRight:!0}),rows:d,cols:l};var u=kn({containerWidth:t,containerHeight:a,numberOfPlayers:r}),s=u.playerWidth,b=u.playerHeight,j=Math.floor(t/s),O=Math.ceil(r/j);return{positions:Yn({playerWidth:s,playerHeight:b,containerWidth:t,containerHeight:Math.min(a,O*b),numberOfPlayers:r,alignToRight:!0}),rows:O,cols:j}}return{positions:Array.from({length:r}).map((function(e,t){return{top:0,left:t*c,width:c,height:o}})),rows:1,cols:r}}({lineWidth:l,minPlayerHeight:i,containerHeight:c.playerHeight-2*n-40,numberOfPlayers:u.length}),b=s.positions,j=s.rows,f=s.cols,p=b.map((function(e){return Object(Y.a)(Object(Y.a)({},e),{},{top:e.top+o.top+n,left:e.left+(o.width-l)+o.left-n})})),h=u.reduce((function(e,t,n){return Object(Y.a)(Object(Y.a)({},e),{},Object(I.a)({},t,p[n]))}),{});F({rows:j,cols:f}),y(Object(Y.a)(Object(I.a)({},d[0],o),h))}}),[n,d,u,i,R]),G=Object(a.useCallback)((function(){var e=O.current;if(e){var t=e.getBoundingClientRect(),n=t.width,a=t.height,r=kn({containerWidth:n,containerHeight:a,numberOfPlayers:Object.keys(o).length}),i=Yn(Object(Y.a)(Object(Y.a)({},r),{},{containerWidth:n,containerHeight:a,numberOfPlayers:Object.keys(o).length})),c=[].concat(Object(M.a)(d),Object(M.a)(u)).reduce((function(e,t,n){return Object(Y.a)(Object(Y.a)({},e),{},Object(I.a)({},t,i[n]))}),{});y(c)}}),[o,d,u]);Object(a.useEffect)((function(){switch(c){case b.Layout.Focused:C();break;case b.Layout.Overlay:U();break;case b.Layout.Grid:G()}}),[O,c,o,l,C,U,G]);var N=Object(a.useCallback)((function(e){return h[e]||{top:-1e5,left:-1e5,width:0,height:0}}),[h]),H=Object(a.useCallback)((function(){var e=k.cols;if(d.length>0&&u.length>0){var t=N(d[0]).width,n=e*N(u[0]).width;if(t>0&&n>0)n/t<=1&&T(n/t)}}),[N,d,u,k]);Object(a.useEffect)((function(){v||H()}),[k,v,H]);var V=Object(a.useCallback)((function(e){var t=O.current;if(t&&v){if(c===b.Layout.Focused){var n=e.clientY,a=t.getBoundingClientRect(),r=a.height,o=n-a.y,l=Math.max(i,Math.min(r-i,o));A(l/r)}if(c===b.Layout.Overlay&&d.length>0){var u=e.clientX,s=N(d[0]),j=s.left,f=s.width,p=i/9*16,h=u-j,y=Math.max(0,Math.min(f-p,h));T(1-y/f)}}}),[N,c,d,i,v]),B=function(){x(!0)},z=Object(a.useCallback)((function(){c===b.Layout.Overlay&&H(),x(!1)}),[c,H]);Object(a.useEffect)((function(){return v&&(window.addEventListener("mousemove",V),window.addEventListener("mouseup",z)),function(){window.removeEventListener("mousemove",V),window.removeEventListener("mouseup",z)}}),[v,V,z]);var W={heightFraction:S,onMouseDown:B,onMouseUp:z},K=Object(Y.a)(Object(Y.a)({},function(){var e=O.current;if(0===u.length||0===d.length||!e)return{top:-1e4,left:-1e4,height:1e4};var t=N(d[0]),a=t.top,r=t.left,i=t.width,c=N(u[0]).height,o=k.rows;return{top:a+n,left:r+i*(1-R)-n,height:c*o}}()),{},{onMouseDown:B,onMouseUp:z});return Object(vn.jsxs)(cr,{ref:O,children:[c===b.Layout.Focused?Object(vn.jsx)(lr,Object(Y.a)(Object(Y.a)({},W),{},{children:Object(vn.jsx)(dr,{})})):null,c===b.Layout.Overlay?Object(vn.jsx)(ur,Object(Y.a)(Object(Y.a)({},K),{},{children:Object(vn.jsx)(sr,{color:j.palette.primary.main})})):null,Object.entries(o).map((function(e){var t=Object(s.a)(e,2),a=t[0],r=t[1],i=N(a),o=c===b.Layout.Overlay&&-1!==u.indexOf(a),l=Object(Y.a)({key:a,padding:n,zIndex:o?2:void 0},i),d={id:a,video:r,width:i.width-2*n,height:i.height-2*n,shadow:o};return Object(vn.jsx)(or,Object(Y.a)(Object(Y.a)({},l),{},{children:Object(vn.jsx)(ir,Object(Y.a)({},d))}))}))]})})),jr=Object(jn.a)(Wt||(Wt=Object(bn.a)(["\n    * {\n        margin: 0;\n        padding: 0;\n        outline: none;\n    }\n\n    html {\n        position: relative;\n        width: 100vw;\n        height: 100vh;\n    }\n\n    body {\n        position: absolute;\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 0;\n        -webkit-tap-highlight-color:  rgba(255, 255, 255, 0); \n    }\n\n    #root {\n        width: 100%;\n        height: 100%;\n        background-color: black;\n    }\n"]))),Or=jn.b.div(Kt||(Kt=Object(bn.a)(["\n    position: relative;\n    width: 100%;\n    height: 100%;\n\n    display: flex;\n    flex-direction: column;\n"]))),fr=Object(qt.a)({palette:{type:"dark",primary:{main:Zt.a[700],light:Zt.a.A700}}}),pr=function(){var e=Object(a.useState)(!0),t=Object(s.a)(e,2),n=t[0],r=t[1];return Object(vn.jsxs)(Jt.a,{theme:fr,children:[Object(vn.jsx)(jr,{}),Object(vn.jsx)($t.a,{}),Object(vn.jsx)(_n,{isActive:!n}),Object(vn.jsxs)(Or,{children:[Object(vn.jsx)(An,{onAddVideosClick:function(){return r(!0)}}),Object(vn.jsx)(br,{}),Object(vn.jsx)(er,{})]}),Object(vn.jsx)(xn,{open:n,onClose:function(){return r(!1)}})]})};c.a.render(Object(vn.jsx)(r.a.StrictMode,{children:Object(vn.jsx)(o.a,{store:qe,children:Object(vn.jsx)(pr,{})})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/multiview",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/multiview","/service-worker.js");Je?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):$e(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):$e(t,e)}))}}(),Xt()},16:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"i",(function(){return r})),n.d(t,"k",(function(){return i})),n.d(t,"m",(function(){return c})),n.d(t,"j",(function(){return o})),n.d(t,"l",(function(){return l})),n.d(t,"o",(function(){return d})),n.d(t,"p",(function(){return u})),n.d(t,"a",(function(){return s})),n.d(t,"g",(function(){return b})),n.d(t,"c",(function(){return j})),n.d(t,"h",(function(){return O})),n.d(t,"q",(function(){return f})),n.d(t,"d",(function(){return p})),n.d(t,"n",(function(){return h})),n.d(t,"f",(function(){return y})),n.d(t,"e",(function(){return g}));var a="PLAYER_INITIALIZED",r="PLAYER_READY",i="PLAYER_STARTED_PLAYING",c="PLAYER_STOPPED_PLAYING",o="PLAYER_STARTED_BUFFERING",l="PLAYER_STOPPED_BUFFERING",d="PLAYER_VIDEO_ENDED",u="PLAYER_VIDEO_RESTARTED",s="PLAYER_DURATION_UPDATED",b="PLAYER_PLAYED_TIME_UPDATED",j="PLAYER_LOADED_TIME_UPDATED",O="PLAYER_PROGRESS_UPDATED",f="PLAYER_VOLUME_UPDATED",p="PLAYER_MUTED",h="PLAYER_UNMUTED",y="PLAYER_PENDING_SEEK_PUSHED",g="PLAYER_PENDING_SEEK_POPPED"},18:function(e,t,n){"use strict";n.d(t,"j",(function(){return a})),n.d(t,"e",(function(){return r})),n.d(t,"l",(function(){return i})),n.d(t,"n",(function(){return c})),n.d(t,"k",(function(){return o})),n.d(t,"m",(function(){return l})),n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return u})),n.d(t,"h",(function(){return s})),n.d(t,"c",(function(){return b})),n.d(t,"i",(function(){return j})),n.d(t,"p",(function(){return O})),n.d(t,"d",(function(){return f})),n.d(t,"o",(function(){return p})),n.d(t,"g",(function(){return h})),n.d(t,"f",(function(){return y}));var a="MASTER_PLAYER_READY",r="MASTER_PLAYER_NOT_READY",i="MASTER_PLAYER_STARTED_PLAYING",c="MASTER_PLAYER_STOPPED_PLAYING",o="MASTER_PLAYER_STARTED_BUFFERING",l="MASTER_PLAYER_STOPPED_BUFFERING",d="MASTER_PLAYER_ENDED",u="MASTER_PLAYER_DURATION_UPDATED",s="MASTER_PLAYER_PLAYED_TIME_UPDATED",b="MASTER_PLAYER_LOADED_TIME_UPDATED",j="MASTER_PLAYER_PROGRESS_UPDATED",O="MASTER_PLAYER_VOLUME_UPDATED",f="MASTER_PLAYER_MUTED",p="MASTER_PLAYER_UNMUTED",h="MASTER_PLAYER_PENDING_SEEK_SET",y="MASTER_PLAYER_PENDING_SEEK_REMOVED"},21:function(e,t,n){"use strict";var a,r;n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r})),n.d(t,"e",(function(){return i})),n.d(t,"f",(function(){return c})),n.d(t,"c",(function(){return o})),n.d(t,"g",(function(){return l})),n.d(t,"d",(function(){return d})),n.d(t,"i",(function(){return u})),n.d(t,"j",(function(){return s})),n.d(t,"h",(function(){return b})),function(e){e.Grouped="Grouped",e.Individual="Individual"}(a||(a={})),function(e){e.Overlay="Overlay",e.Focused="Focused",e.Grid="Grid"}(r||(r={}));var i="SETTINGS_FULLSCREEN_ENTERED",c="SETTINGS_FULLSCREEN_EXITED",o="SETTINGS_CONTROLS_MODE_CHANGED",l="SETTINGS_LAYOUT_CHANGED",d="SETTINGS_FOCUSED_PLAYER_ID_CHANGED",u="SETTINGS_MAIN_PLAYER_IDS_CHANGED",s="SETTINGS_MAIN_SECONDARY_IDS_CHANGED",b="SETTINGS_MAIN_AND_SECONDARY_PLAYER_IDS_CHANGED"},42:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r}));var a="OFFSETS_REFERENCE_PLAYER_ID_CHANGED",r="PLAYER_OFFSET_CHANGED"},43:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r}));var a="VIDEOS_ADDED",r="VIDEO_REMOVED"},86:function(e,t){}},[[149,1,2]]]);
//# sourceMappingURL=main.ddbf703c.chunk.js.map